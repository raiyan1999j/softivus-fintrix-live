const expensesData=[{id:"EXP-2847",title:"Flight Tickets to NYC",category:"travel",amount:1250,currency:"USD",status:"approved",vendor:"Delta Airlines",date:"2025-10-28",time:"10:30 AM",submittedBy:"John Smith",icon:"plane",gradient:"gradient-primary"},{id:"EXP-2846",title:"Adobe Creative Cloud",category:"software",amount:54.99,currency:"USD",status:"approved",vendor:"Adobe Inc",date:"2025-10-27",time:"2:15 PM",submittedBy:"Sarah Johnson",icon:"code",gradient:"gradient-purple"},{id:"EXP-2845",title:"Team Lunch",category:"meals",amount:285,currency:"USD",status:"pending",vendor:"Olive Garden",date:"2025-10-26",time:"1:00 PM",submittedBy:"Mike Chen",icon:"utensils",gradient:"gradient-orange"},{id:"EXP-2844",title:"Office Furniture",category:"office",amount:1850,currency:"USD",status:"approved",vendor:"IKEA Business",date:"2025-10-25",time:"11:45 AM",submittedBy:"Emma Davis",icon:"home",gradient:"gradient-cyan"},{id:"EXP-2843",title:"Facebook Ads Campaign",category:"marketing",amount:2500,currency:"USD",status:"approved",vendor:"Meta Platforms",date:"2025-10-24",time:"9:20 AM",submittedBy:"David Wilson",icon:"megaphone",gradient:"gradient-success"},{id:"EXP-2842",title:"Taxi to Airport",category:"travel",amount:65,currency:"USD",status:"pending",vendor:"Uber",date:"2025-10-23",time:"7:45 AM",submittedBy:"Lisa Anderson",icon:"car",gradient:"gradient-primary"},{id:"EXP-2841",title:"Printer Paper & Toner",category:"office",amount:145,currency:"USD",status:"approved",vendor:"Staples",date:"2025-10-22",time:"3:30 PM",submittedBy:"Robert Taylor",icon:"printer",gradient:"gradient-cyan"},{id:"EXP-2840",title:"LinkedIn Premium",category:"software",amount:29.99,currency:"USD",status:"rejected",vendor:"LinkedIn",date:"2025-10-21",time:"4:15 PM",submittedBy:"Jennifer Martinez",icon:"linkedin",gradient:"gradient-purple"},{id:"EXP-2839",title:"Client Dinner",category:"meals",amount:420,currency:"USD",status:"approved",vendor:"The Capital Grille",date:"2025-10-20",time:"7:30 PM",submittedBy:"Michael Brown",icon:"utensils",gradient:"gradient-orange"},{id:"EXP-2838",title:"Google Workspace",category:"software",amount:144,currency:"USD",status:"pending",vendor:"Google LLC",date:"2025-10-19",time:"10:00 AM",submittedBy:"Jessica Garcia",icon:"cloud",gradient:"gradient-purple"},{id:"EXP-2837",title:"Hotel Stay - Boston",category:"travel",amount:890,currency:"USD",status:"approved",vendor:"Marriott Hotels",date:"2025-10-18",time:"2:00 PM",submittedBy:"Christopher Lee",icon:"building",gradient:"gradient-primary"},{id:"EXP-2836",title:"Email Marketing Tool",category:"marketing",amount:299,currency:"USD",status:"approved",vendor:"Mailchimp",date:"2025-10-17",time:"11:20 AM",submittedBy:"Amanda White",icon:"mail",gradient:"gradient-success"}];let currentTab="all",searchQuery="",currentFilters={status:["approved","pending","rejected"],category:["travel","office","software","marketing","meals"]};function initTheme(){const e=localStorage.getItem("theme")||"dark";document.documentElement.classList.toggle("dark","dark"===e)}function initExpenseChart(){const e=document.getElementById("expenseChart");e&&new Chart(e,{type:"line",data:{labels:["May","June","July","August","September","October"],datasets:[{label:"Travel",data:[12e3,15e3,11e3,18e3,14e3,16e3],borderColor:"#6366F1",backgroundColor:"rgba(99, 102, 241, 0.1)",tension:.4,fill:!0},{label:"Software",data:[5e3,5500,6e3,5800,6200,6500],borderColor:"#8B5CF6",backgroundColor:"rgba(139, 92, 246, 0.1)",tension:.4,fill:!0},{label:"Marketing",data:[8e3,9e3,12e3,1e4,11e3,13e3],borderColor:"#10B981",backgroundColor:"rgba(16, 185, 129, 0.1)",tension:.4,fill:!0},{label:"Office",data:[3e3,3500,3200,4e3,3800,4200],borderColor:"#06B6D4",backgroundColor:"rgba(6, 182, 212, 0.1)",tension:.4,fill:!0},{label:"Meals",data:[2e3,2500,2200,2800,2600,3e3],borderColor:"#F59E0B",backgroundColor:"rgba(245, 158, 11, 0.1)",tension:.4,fill:!0}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!0,position:"bottom",labels:{usePointStyle:!0,padding:20,color:getComputedStyle(document.documentElement).getPropertyValue("--text")}},tooltip:{mode:"index",intersect:!1,backgroundColor:getComputedStyle(document.documentElement).getPropertyValue("--panel"),titleColor:getComputedStyle(document.documentElement).getPropertyValue("--text"),bodyColor:getComputedStyle(document.documentElement).getPropertyValue("--text"),borderColor:getComputedStyle(document.documentElement).getPropertyValue("--border"),borderWidth:1,padding:12,displayColors:!0,callbacks:{label:function(e){return e.dataset.label+": $"+e.parsed.y.toLocaleString()}}}},scales:{y:{beginAtZero:!0,grid:{color:getComputedStyle(document.documentElement).getPropertyValue("--border"),drawBorder:!1},ticks:{color:getComputedStyle(document.documentElement).getPropertyValue("--muted"),callback:function(e){return"$"+e/1e3+"K"}}},x:{grid:{display:!1},ticks:{color:getComputedStyle(document.documentElement).getPropertyValue("--muted")}}}}})}function renderExpenses(){const e=document.getElementById("expenses-container");let t=expensesData.filter(e=>{if(!currentFilters.status.includes(e.status))return!1;if(!currentFilters.category.includes(e.category))return!1;if(searchQuery){const t=searchQuery.toLowerCase();return e.title.toLowerCase().includes(t)||e.id.toLowerCase().includes(t)||e.vendor.toLowerCase().includes(t)||e.submittedBy.toLowerCase().includes(t)}return!0});"pending"===currentTab?t=t.filter(e=>"pending"===e.status):"approved"===currentTab?t=t.filter(e=>"approved"===e.status):"rejected"===currentTab&&(t=t.filter(e=>"rejected"===e.status)),e.innerHTML=t.map(e=>{const t="approved"===e.status?"badge-success":"pending"===e.status?"badge-warning":"badge-danger";return`\n                    <div class="expense-row">\n                        <div class="flex items-center gap-4 flex-1 min-w-0">\n                            <div class="w-12 h-12 ${e.gradient} rounded-2xl flex items-center justify-center flex-shrink-0">\n                                <i data-lucide="${e.icon}" class="w-6 h-6 text-white"></i>\n                            </div>\n                            <div class="flex-1 min-w-0">\n                                <div class="flex items-center gap-2 mb-1 flex-wrap">\n                                    <p class="font-bold text-text">${e.title}</p>\n                                    <span class="badge-modern ${t}">${e.status}</span>\n                                </div>\n                                <p class="text-sm text-muted truncate">${e.id} • ${e.vendor} • ${e.date}</p>\n                            </div>\n                        </div>\n\n                        <div class="flex items-center gap-6 flex-shrink-0">\n                            <div class="text-right hidden sm:block">\n                                <p class="text-sm text-muted mb-1">Submitted by</p>\n                                <p class="text-sm font-semibold text-text">${e.submittedBy}</p>\n                            </div>\n\n                            <div class="text-right">\n                                <p class="text-lg font-bold text-text">${e.currency} ${e.amount.toLocaleString()}</p>\n                                <p class="text-sm text-muted capitalize">${e.category}</p>\n                            </div>\n\n                            <button class="btn-icon">\n                                <i data-lucide="more-vertical" class="w-5 h-5"></i>\n                            </button>\n                        </div>\n                    </div>\n                `}).join(""),document.getElementById("showing-count").textContent=t.length,document.getElementById("total-count").textContent=expensesData.length,lucide.createIcons()}function convertToCSV(e){if(0===e.length)return"";const t=Object.keys(e[0]),n=e.map(e=>t.map(t=>e[t]).join(","));return[t.join(","),...n].join("\n")}function downloadCSV(e,t){const n=new Blob([e],{type:"text/csv"}),o=window.URL.createObjectURL(n),r=document.createElement("a");r.href=o,r.download=t,r.click(),window.URL.revokeObjectURL(o)}function openModal(e){document.getElementById(e).classList.add("open"),document.body.style.overflow="hidden"}function closeModal(e){document.getElementById(e).classList.remove("open"),document.body.style.overflow=""}function addExpense(){closeModal("add-expense-modal"),showToast("Expense Added","New expense has been submitted for approval","success")}function showToast(e,t,n="success"){const o=document.getElementById("toast"),r=document.getElementById("toast-title"),a=document.getElementById("toast-message");r.textContent=e,a.textContent=t,o.className=`toast ${n}`,o.classList.add("show"),setTimeout(()=>o.classList.remove("show"),3e3)}function initCustomDropdowns(){const e=document.querySelectorAll(".custom-dropdown");e.forEach(t=>{const n=t.querySelector(".custom-dropdown-btn"),o=t.querySelectorAll(".custom-dropdown-item"),r=t.querySelector(".custom-dropdown-btn span"),a=t.querySelector('input[type="hidden"]');n&&(n.addEventListener("click",n=>{n.stopPropagation(),e.forEach(e=>{e!==t&&e.classList.remove("open")}),t.classList.toggle("open")}),o.forEach(e=>{e.addEventListener("click",n=>{n.stopPropagation();const s=e.dataset.value,d=e.textContent.trim();o.forEach(e=>e.classList.remove("active")),e.classList.add("active"),r&&(r.textContent=d),a&&(a.value=s),t.classList.remove("open"),lucide.createIcons()})}))}),document.addEventListener("click",t=>{t.target.closest(".custom-dropdown")||e.forEach(e=>e.classList.remove("open"))})}document.getElementById("filter-toggle")&&document.getElementById("filter-toggle").addEventListener("click",()=>{document.getElementById("filter-dropdown")&&document.getElementById("filter-dropdown").classList.toggle("open")}),document.addEventListener("click",e=>{const t=document.getElementById("filter-dropdown"),n=document.getElementById("filter-toggle");t?.contains(e.target)||n?.contains(e.target)||t?.classList.remove("open")}),document.querySelectorAll("[data-tab]").forEach(e=>{e.addEventListener("click",()=>{document.querySelectorAll("[data-tab]").forEach(e=>e.classList.remove("active")),e.classList.add("active"),currentTab=e.dataset.tab,renderExpenses()})}),document.getElementById("expense-search")?.addEventListener("input",e=>{searchQuery=e.target.value,renderExpenses()}),document.querySelectorAll(".filter-checkbox").forEach(e=>{e.addEventListener("change",e=>{const t=e.target.dataset.filter;e.target.checked?["approved","pending","rejected"].includes(t)?currentFilters.status.includes(t)||currentFilters.status.push(t):["travel","office","software","marketing","meals"].includes(t)&&(currentFilters.category.includes(t)||currentFilters.category.push(t)):["approved","pending","rejected"].includes(t)?currentFilters.status=currentFilters.status.filter(e=>e!==t):["travel","office","software","marketing","meals"].includes(t)&&(currentFilters.category=currentFilters.category.filter(e=>e!==t)),renderExpenses()})}),document.getElementById("export-expenses")?.addEventListener("click",()=>{downloadCSV(convertToCSV(expensesData),"expenses-export.csv"),showToast("Export Complete","Expenses exported successfully","success")}),document.querySelectorAll(".modal").forEach(e=>{e.addEventListener("click",t=>{t.target===e&&(e.classList.remove("open"),document.body.style.overflow="")})}),document.addEventListener("DOMContentLoaded",()=>{initTheme(),setTimeout(()=>{initExpenseChart()},100),renderExpenses(),initCustomDropdowns(),lucide.createIcons()});