const walletsData=[{id:1,name:"Bitcoin Wallet",currency:"BTC",symbol:"₿",balance:2.45827,usdValue:121850.5,change:24.5,status:"active",type:"crypto",gradient:"gradient-orange",icon:"bitcoin"},{id:2,name:"Ethereum Wallet",currency:"ETH",symbol:"Ξ",balance:12.84,usdValue:48250.8,change:18.2,status:"active",type:"crypto",gradient:"gradient-purple",icon:"gem"},{id:3,name:"US Dollar Wallet",currency:"USD",symbol:"$",balance:45847.92,usdValue:45847.92,change:2.1,status:"active",type:"fiat",gradient:"gradient-success",icon:"dollar-sign"},{id:4,name:"Euro Wallet",currency:"EUR",symbol:"€",balance:28450.3,usdValue:30920.5,change:-1.5,status:"active",type:"fiat",gradient:"gradient-cyan",icon:"euro"},{id:5,name:"British Pound",currency:"GBP",symbol:"£",balance:18750,usdValue:24180.75,change:.8,status:"active",type:"fiat",gradient:"gradient-warning",icon:"pound-sterling"},{id:6,name:"Tether Wallet",currency:"USDT",symbol:"₮",balance:15e3,usdValue:15e3,change:0,status:"active",type:"crypto",gradient:"gradient-teal",icon:"circle-dollar-sign"},{id:7,name:"Japanese Yen",currency:"JPY",symbol:"¥",balance:245e4,usdValue:16420.5,change:-2.3,status:"inactive",type:"fiat",gradient:"gradient-danger",icon:"japanese-yen"},{id:8,name:"Swiss Franc",currency:"CHF",symbol:"Fr",balance:12500,usdValue:14275,change:1.2,status:"frozen",type:"fiat",gradient:"gradient-pink",icon:"coins"}],transactionsData=[{id:"TXN-2847",customer:"Sarah Johnson",amount:2450,currency:"USD",type:"receive",status:"completed",time:"2 hours ago",icon:"arrow-down-left",gradient:"gradient-success"},{id:"TXN-2846",customer:"Michael Chen",amount:1850.5,currency:"EUR",type:"send",status:"completed",time:"5 hours ago",icon:"arrow-up-right",gradient:"gradient-primary"},{id:"TXN-2845",customer:"Emma Wilson",amount:3200,currency:"GBP",type:"receive",status:"pending",time:"1 day ago",icon:"arrow-down-left",gradient:"gradient-warning"},{id:"TXN-2844",customer:"David Rodriguez",amount:950,currency:"USD",type:"send",status:"failed",time:"1 day ago",icon:"arrow-up-right",gradient:"gradient-danger"},{id:"TXN-2843",customer:"Lisa Anderson",amount:5400.25,currency:"USD",type:"receive",status:"completed",time:"2 days ago",icon:"arrow-down-left",gradient:"gradient-success"}];let currentTab="all",searchQuery="",currentFilters={status:["active","inactive","frozen"],type:["crypto","fiat"]};function toggleSidebar(){document.getElementById("sidebar").classList.toggle("collapsed")}function toggleMobileSidebar(){document.getElementById("sidebar").classList.toggle("mobile-open")}function toggleSubmenu(e){const t=e.nextElementSibling;e.classList.toggle("open"),t.classList.toggle("open")}function toggleDropdown(e){const t=document.getElementById(e);t.classList.toggle("open"),document.addEventListener("click",function e(n){t.contains(n.target)||(t.classList.remove("open"),document.removeEventListener("click",e))})}const currencies=[{code:"USD",name:"US Dollar",symbol:"$",rate:1,flag:"./assets/images/usflag.png",gradient:"gradient-primary"},{code:"EUR",name:"Euro",symbol:"€",rate:.9205,flag:"./assets/images/euro.png",gradient:"gradient-success"},{code:"GBP",name:"British Pound",symbol:"£",rate:.7856,flag:"./assets/images/british.png",gradient:"gradient-secondary"},{code:"JPY",name:"Japanese Yen",symbol:"¥",rate:149.85,flag:"./assets/images/japanflag.webp",gradient:"gradient-warning"},{code:"AUD",name:"Australian Dollar",symbol:"A$",rate:1.5423,flag:"./assets/images/australian.png",gradient:"gradient-purple"}];let fromCurrencySelect=currencies[0],toCurrencySelect=currencies[1],currentModalTarget="from";function updateExchangeAmount(){const e=document.getElementById("from-amount"),t=document.getElementById("to-amount");if(!e||!t)return;const n=((parseFloat(e.value)||0)*(toCurrencySelect.rate/fromCurrencySelect.rate)).toFixed(2);t.value=n}function swapCurrencies(){const e=fromCurrencySelect;fromCurrencySelect=toCurrencySelect,toCurrencySelect=e;const t=document.getElementById("from-amount"),n=document.getElementById("to-amount");t&&n&&(t.value,t.value=n.value),renderCurrencyWidget(),updateExchangeAmount()}function renderCurrencyWidget(){const e=document.getElementById("currency-from-modal"),t=document.getElementById("currency-to-modal");e&&(e.innerHTML=`<div class="h-6 w-6">\n                                          <img src="${fromCurrencySelect.flag}" alt="${fromCurrencySelect.code} flag" class="h-full w-full object-contain"/>\n                                      </div>\n                                      <span class="font-bold">${fromCurrencySelect.code}</span>\n                                      <i data-lucide="chevron-down" class="w-4 h-4"></i>`),t&&(t.innerHTML=`<div class="h-6 w-6">\n                                          <img src="${toCurrencySelect.flag}" alt="${toCurrencySelect.code} flag" class="h-full w-full object-contain"/>\n                                      </div>\n                                      <span class="font-bold">${toCurrencySelect.code}</span>\n                                      <i data-lucide="chevron-down" class="w-4 h-4"></i>`),lucide.createIcons()}function openCurrencyModal(){renderCurrencies(),openModal("currency-modal")}function renderCurrencies(e=""){const t=document.getElementById("currency-list");if(!t)return;const n=currencies.filter(t=>t.code.toLowerCase().includes(e.toLowerCase())||t.name.toLowerCase().includes(e.toLowerCase()));t.innerHTML=n.map(e=>`\n                <div class="currency-row-index flex-row flex-nowrap items-center gap-1.5 sm:gap-2 md:gap-3 cursor-pointer hover:bg-gray-50 p-2 rounded-lg" onclick="selectCurrency('${e.code}')">\n                    <div class="flex items-center gap-1.5 sm:gap-2 md:gap-3 flex-1 min-w-0">\n                        <div class="w-8 h-8 sm:w-10 sm:h-10 md:w-12 md:h-12 rounded-lg sm:rounded-xl ${e.gradient} flex items-center justify-center text-white font-bold text-sm sm:text-base md:text-lg shrink-0">\n                            ${e.symbol}\n                        </div>\n                        <div class="min-w-0 flex-1">\n                            <p class="font-semibold text-text text-xs sm:text-sm md:text-base truncate">${e.name}</p>\n                            <p class="text-xs sm:text-xs md:text-sm text-muted">${e.code}</p>\n                        </div>\n                    </div>\n                    <div class="text-right shrink-0">\n                        <p class="font-semibold text-text text-xs sm:text-sm md:text-base">${e.symbol}1</p>\n                        <p class="text-xs text-muted">= $${e.rate.toFixed(4)}</p>\n                    </div>\n                </div>\n            `).join("")}function selectCurrency(e){const t=currencies.find(t=>t.code===e);"from"===currentModalTarget?fromCurrencySelect=t:toCurrencySelect=t,renderCurrencyWidget(),updateExchangeAmount(),closeModal("currency-modal")}function renderWallets(){const e=document.getElementById("wallets-container");let t=walletsData.filter(e=>{if(!currentFilters.status.includes(e.status))return!1;if(!currentFilters.type.includes(e.type))return!1;if(searchQuery){const t=searchQuery.toLowerCase();return e.name.toLowerCase().includes(t)||e.currency.toLowerCase().includes(t)}return!0});"active"===currentTab?t=t.filter(e=>"active"===e.status):"crypto"===currentTab?t=t.filter(e=>"crypto"===e.type):"fiat"===currentTab&&(t=t.filter(e=>"fiat"===e.type)),e&&(e.innerHTML=t.map(e=>{const t="active"===e.status?"badge-success":"inactive"===e.status?"badge-warning":"badge-danger";return e.change,e.change,`\n                    <div class="wallet-card animate-slide-in relative rounded-2xl bg-card p-5 cursor-pointer shadow-sm hover:shadow-md transition-shadow"\n     onclick="viewWalletDetails('${e.id}')">\n\n    \x3c!-- Top row: Icon + Status badge + Menu --\x3e\n    <div class="flex items-start justify-between mb-4">\n        \x3c!-- Currency icon with gradient background --\x3e\n        <div class="md:size-14 size-12 ${e.gradient} rounded-2xl flex items-center justify-center shrink-0">\n            <i data-lucide="${e.icon}" class="w-8 h-8 text-white"></i>\n        </div>\n\n        <div class="flex items-center gap-3">\n            \x3c!-- Status badge --\x3e\n            <span class="badge-modern ${t} capitalize text-xs">\n                ${e.status}\n            </span>\n        </div>\n    </div>\n\n    \x3c!-- Wallet name --\x3e\n    <h3 class="text-lg font-bold text-text mb-2 line-clamp-1">\n        ${e.name}\n    </h3>\n\n    \x3c!-- Currency ticker --\x3e\n    <p class="text-sm text-muted mb-5">\n        ${e.currency}\n    </p>\n\n    \x3c!-- Balance (main) --\x3e\n    <div class="mb-6">\n        <p class="text-2xl font-bold text-text">\n            ${e.symbol}${e.balance.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:8})}\n        </p>\n        <p class="text-sm text-muted mt-1">\n            ≈ $${e.usdValue.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}\n        </p>\n    </div>\n\n    \x3c!-- Stats row --\x3e\n    <div class="grid grid-cols-3 gap-4 mb-6">\n        <div class="text-center">\n            <p class="text-xs text-muted mb-1">24h Change</p>\n            <p class="text-lg font-bold ${e.change>=0?"text-success":"text-danger"}">\n                ${e.change>=0?"+":""}${e.change.toFixed(2)}%\n            </p>\n        </div>\n        <div class="text-center">\n            <p class="text-xs text-muted mb-1">Total Received</p>\n            <p class="text-lg font-bold text-text">${e.received?.toLocaleString()??"0"}</p>\n        </div>\n        <div class="text-center">\n            <p class="text-xs text-muted mb-1">Total Sent</p>\n            <p class="text-lg font-bold text-text">${e.sent?.toLocaleString()??"0"}</p>\n        </div>\n    </div>\n\n    \x3c!-- Bottom bar: Change indicator + menu button (duplicate for mobile feel) --\x3e\n    <div class="flex items-center justify-between pt-4 border-t border-border">\n        <div class="flex items-center gap-2 ${e.change>=0?"text-success":"text-danger"}">\n            <i data-lucide="${e.change>=0?"trending-up":"trending-down"}" class="w-5 h-5"></i>\n            <span class="font-semibold">${Math.abs(e.change).toFixed(2)}%</span>\n        </div>\n\n        <button class="btn-icon" onclick="event.stopPropagation(); toggleDropdown('wallet-actions-${e.id}')">\n            <i data-lucide="more-horizontal" class="w-5 h-5"></i>\n        </button>\n    </div>\n\n    \x3c!-- Dropdown menu (same style as your link card) --\x3e\n    <div class="dropdown-menu absolute! top-[17%]! right-4" id="wallet-actions-${e.id}">\n        <div class="dropdown-item">\n            <i data-lucide="eye" class="w-4 h-4"></i>\n            <span>View Details</span>\n        </div>\n        <div class="dropdown-item">\n            <i data-lucide="edit" class="w-4 h-4"></i>\n            <span>Edit Wallet</span>\n        </div>\n        <div class="dropdown-item">\n            <i data-lucide="copy" class="w-4 h-4"></i>\n            <span>Copy Address</span>\n        </div>\n        <div class="dropdown-item">\n            <i data-lucide="qr-code" class="w-4 h-4"></i>\n            <span>QR Code</span>\n        </div>\n        <div class="dropdown-item text-danger">\n            <i data-lucide="trash-2" class="w-4 h-4"></i>\n            <span>Delete Wallet</span>\n        </div>\n    </div>\n</div>\n\n                `}).join("")),document.getElementById("showing-count-wallets")&&(document.getElementById("showing-count-wallets").textContent=t.length),document.getElementById("total-count-wallets")&&(document.getElementById("total-count-wallets").textContent=walletsData.length),lucide.createIcons()}function renderTransactionsWallets(){document.getElementById("transactions-wallets-container").innerHTML=transactionsData.map(e=>{const t="completed"===e.status?"badge-success":"pending"===e.status?"badge-warning":"badge-danger",n="receive"===e.type?"text-success":"text-text",a="receive"===e.type?"+":"-";return`\n                    <div class="transaction-row relative flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 p-4">\n\n                    <div class="flex flex-1 w-full gap-3 sm:gap-4 flex-col sm:flex-row xl:items-center">\n\n                    \x3c!-- Icon --\x3e\n                    <div class="w-10 h-10 sm:w-12 sm:h-12 ${e.gradient} rounded-2xl flex items-center justify-center shrink-0">\n                        <i data-lucide="${e.icon}" class="w-5 h-5 sm:w-6 sm:h-6 text-white"></i>\n                    </div>\n\n                    \x3c!-- Customer Info --\x3e\n                    <div class="flex-1 min-w-0">\n                        <div class="flex flex-col xl:flex-wrap xl:items-start items-start gap-2 mb-1">\n                            <p class="font-bold text-text truncate xl:w-full w-[80%]">${e.customer}</p>\n                            <span class="badge-modern ${t}">${e.status}</span>\n                        </div>\n                        <p class="text-sm text-muted truncate">${e.id} • ${e.time}</p>\n                    </div>\n                </div>\n\n                  \x3c!-- Amount & More Button --\x3e\n                  <div class="flex items-center justify-between sm:justify-end w-full sm:w-auto gap-3 mt-2 sm:mt-0">\n\n                      <div class="flex flex-col md:items-end sm:items-start">\n                          <p class="text-base sm:text-lg font-bold ${n} truncate">\n                              ${a}${e.currency} ${e.amount.toLocaleString()}\n                          </p>\n                          <p class="text-sm text-muted capitalize truncate">${e.type}</p>\n                      </div>\n\n                      \x3c!-- Single More button for all screen sizes --\x3e\n                      <div class="relative">\n                          <button class="btn-icon shrink-0"\n                                  onclick="event.stopPropagation(); toggleDropdown('tx-actions-${e.id}')">\n                              <i data-lucide="more-vertical" class="w-5 h-5"></i>\n                          </button>\n\n                          \x3c!-- Dropdown Menu --\x3e\n                          <div class="dropdown-menu absolute! lg:right-4 left-auto!" id="tx-actions-${e.id}">\n                              <div class="dropdown-item" onclick="event.stopPropagation();">\n                                  <i data-lucide="eye" class="w-4 h-4"></i>\n                                  <span>View Details</span>\n                              </div>\n                              <div class="dropdown-item" onclick="event.stopPropagation();">\n                                  <i data-lucide="copy" class="w-4 h-4"></i>\n                                  <span>Copy ID</span>\n                              </div>\n                              <div class="dropdown-item" onclick="event.stopPropagation(); ">\n                                  <i data-lucide="download" class="w-4 h-4"></i>\n                                  <span>Download Invoice</span>\n                              </div>\n                              <div class="dropdown-item" onclick="event.stopPropagation(); ">\n                                  <i data-lucide="refresh-cw" class="w-4 h-4"></i>\n                                  <span>Retry Payment</span>\n                              </div>\n                              <div class="dropdown-item text-danger" onclick="event.stopPropagation(); ">\n                                  <i data-lucide="x-circle" class="w-4 h-4"></i>\n                                  <span>Void Transaction</span>\n                              </div>\n                          </div>\n                      </div>\n                  </div>\n              </div>\n                `}).join(""),lucide.createIcons()}document.getElementById("from-amount")?.addEventListener("input",updateExchangeAmount),document.getElementById("currency-search")?.addEventListener("input",e=>{renderCurrencies(e.target.value)}),document.getElementById("currency-from-modal")?.addEventListener("click",()=>{currentModalTarget="from",openCurrencyModal()}),document.getElementById("currency-to-modal")?.addEventListener("click",()=>{currentModalTarget="to",openCurrencyModal()}),document.addEventListener("DOMContentLoaded",()=>{renderCurrencyWidget(),updateExchangeAmount()}),document.getElementById("filter-button")&&document.getElementById("filter-button").addEventListener("click",e=>{e.stopPropagation(),document.getElementById("filter-dropdown-wallets").classList.toggle("open")}),document.addEventListener("click",e=>{const t=document.getElementById("filter-dropdown-wallets"),n=document.getElementById("filter-button");t&&n&&(t.contains(e.target)||n.contains(e.target)||t.classList.remove("open"))}),document.getElementById("apply-filters").addEventListener("click",()=>{currentFilters={status:[],type:[]},document.querySelectorAll(".filter-checkbox").forEach(e=>{const t=e.dataset.filter;e.checked&&(["completed","pending","failed"].includes(t)?currentFilters.status.push(t):["send","receive","exchange"].includes(t)&&currentFilters.type.push(t))}),document.getElementById("filter-dropdown").classList.remove("open"),currentPage=1,renderTransactions(),showToast("Filters Applied","Transaction filters updated successfully","success")}),document.querySelectorAll("[data-tab]").forEach(e=>{e.addEventListener("click",()=>{document.querySelectorAll("[data-tab]").forEach(e=>e.classList.remove("active")),e.classList.add("active"),currentTab=e.dataset.tab,renderWallets()})});const tabDropdownBtnTransaction=document.getElementById("tab-dropdown-btn-transaction"),tabDropdownMobileTransaction=document.getElementById("tab-dropdown-mobile-transaction");if(tabDropdownBtnTransaction&&tabDropdownMobileTransaction){tabDropdownBtnTransaction.addEventListener("click",e=>{e.stopPropagation(),tabDropdownMobileTransaction.classList.toggle("open")}),document.addEventListener("click",e=>{tabDropdownMobileTransaction.contains(e.target)||tabDropdownMobileTransaction.classList.remove("open")});const e=document.querySelectorAll(".tab-dropdown-item-transaction[data-tab]");e.forEach(t=>{t.addEventListener("click",n=>{n.stopPropagation();const a=t.dataset.tab;e.forEach(e=>e.classList.remove("active")),t.classList.add("active");const c=document.getElementById("tab-dropdown-text-transaction");c&&(c.textContent=t.textContent.trim()),tabDropdownMobileTransaction.classList.remove("open"),switchTabTransaction(a),lucide.createIcons()})})}function updateMobileDropdownTransaction(e){const t=document.getElementById("tab-dropdown-text-transaction");document.querySelectorAll(".tab-dropdown-item-transaction[data-tab]").forEach(n=>{n.dataset.tab===e?(n.classList.add("active"),t&&(t.textContent=n.textContent.trim())):n.classList.remove("active")})}function switchTabTransaction(e){currentTab=e,currentPage=1,document.querySelectorAll(".tab-button-transaction[data-tab]").forEach(e=>e.classList.remove("active"));const t=document.querySelector(`.tab-button-transaction[data-tab="${e}"]`);t&&t.classList.add("active"),updateMobileDropdownTransaction(e),renderTransactions()}function convertToCSV(e){if(0===e.length)return"";const t=Object.keys(e[0]),n=e.map(e=>t.map(t=>e[t]).join(","));return[t.join(","),...n].join("\n")}function downloadCSV(e,t){const n=new Blob([e],{type:"text/csv"}),a=window.URL.createObjectURL(n),c=document.createElement("a");c.href=a,c.download=t,c.click(),window.URL.revokeObjectURL(a)}function openModal(e){document.getElementById(e).classList.add("open"),document.body.style.overflow="hidden"}function closeModal(e){document.getElementById(e).classList.remove("open"),document.body.style.overflow=""}function addWallet(){closeModal("add-wallet-modal")}function sendMoney(){closeModal("send-modal")}function copyWalletAddress(){navigator.clipboard.writeText("0x742d35Cc6634C0532925a3b844Bc9e7595f0bEb9")}function createInvoice(){closeModal("invoice-modal")}function requestCard(){closeModal("card-request-modal")}function quickExchange(){closeModal("exchange-modal")}function viewWalletDetails(e){}function openWalletMenu(e){}function initPortfolioChart(){const e=document.getElementById("portfolioChart").getContext("2d");new Chart(e,{type:"doughnut",data:{labels:["Bitcoin","Ethereum","US Dollar","Euro","Others"],datasets:[{data:[35,25,20,12,8],backgroundColor:["rgba(249, 115, 22, 0.8)","rgba(139, 92, 246, 0.8)","rgba(16, 185, 129, 0.8)","rgba(6, 182, 212, 0.8)","rgba(99, 102, 241, 0.8)"],borderWidth:0}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom",labels:{padding:20,usePointStyle:!0,font:{size:12,family:"Inter"}}}},cutout:"70%"}})}document.querySelectorAll(".tab-button-transaction[data-tab]").forEach(e=>{e.addEventListener("click",()=>{switchTabTransaction(e.dataset.tab)})}),document.getElementById("wallet-search")&&document.getElementById("wallet-search").addEventListener("input",e=>{searchQuery=e.target.value,renderWallets()}),document.querySelectorAll(".filter-checkbox").forEach(e=>{e.addEventListener("change",e=>{const t=e.target.dataset.filter;e.target.checked?["active","inactive","frozen"].includes(t)?currentFilters.status.includes(t)||currentFilters.status.push(t):["crypto","fiat"].includes(t)&&(currentFilters.type.includes(t)||currentFilters.type.push(t)):["active","inactive","frozen"].includes(t)?currentFilters.status=currentFilters.status.filter(e=>e!==t):["crypto","fiat"].includes(t)&&(currentFilters.type=currentFilters.type.filter(e=>e!==t)),renderWallets()})}),document.getElementById("export-wallets")&&document.getElementById("export-wallets").addEventListener("click",()=>{downloadCSV(convertToCSV(walletsData),"wallets-export.csv"),showToast("Export Complete","Wallets exported successfully","success")}),document.querySelectorAll(".modal").forEach(e=>{e.addEventListener("click",t=>{t.target===e&&(e.classList.remove("open"),document.body.style.overflow="")})}),document.addEventListener("DOMContentLoaded",()=>{renderWallets(),renderTransactionsWallets(),setTimeout(()=>{initPortfolioChart()},100),lucide.createIcons();const e=document.getElementById("notif-toggle"),t=document.getElementById("profile-toggle");document.addEventListener("click",n=>{const a=document.querySelector('input[id="notif-toggle"]')?.parentElement;e&&a&&!a.contains(n.target)&&e.checked&&(e.checked=!1);const c=document.querySelector('input[id="profile-toggle"]')?.parentElement;t&&c&&!c.contains(n.target)&&t.checked&&(t.checked=!1)})});