const accountsData=[{id:"BA001",name:"Chase Business Account",provider:"JPMorgan Chase",type:"bank",status:"active",icon:"building-2",gradient:"gradient-primary",accountNumber:"****4523",balance:"$125,430.50",lastSync:"2 min ago",connected:"2024-01-15",apiKey:"sk_live_51Hxj...Kj4Lw"},{id:"PG001",name:"Stripe Payment Gateway",provider:"Stripe",type:"payment",status:"active",icon:"credit-card",gradient:"gradient-purple",transactions:"3,245",volume:"$452,890",lastSync:"5 min ago",connected:"2023-12-20",apiKey:"sk_live_51Abc...Xyz123"},{id:"BA002",name:"Wells Fargo Savings",provider:"Wells Fargo",type:"bank",status:"active",icon:"piggy-bank",gradient:"gradient-success",accountNumber:"****7892",balance:"$78,920.25",lastSync:"10 min ago",connected:"2024-02-01",apiKey:"wf_api_789...xyz"},{id:"PG002",name:"PayPal Business",provider:"PayPal",type:"payment",status:"pending",icon:"wallet",gradient:"gradient-info",transactions:"1,892",volume:"$198,430",lastSync:"1 hour ago",connected:"2024-10-28",apiKey:"pp_live_456...def"},{id:"API001",name:"Plaid Banking API",provider:"Plaid",type:"api",status:"active",icon:"code",gradient:"gradient-cyan",requests:"45,234",uptime:"99.98%",lastSync:"30 sec ago",connected:"2023-11-10",apiKey:"plaid_api_xyz...123"},{id:"BA003",name:"Bank of America Checking",provider:"Bank of America",type:"bank",status:"error",icon:"building",gradient:"gradient-danger",accountNumber:"****2341",balance:"N/A",lastSync:"2 days ago",connected:"2024-01-05",apiKey:"boa_api_error"},{id:"OA001",name:"QuickBooks Integration",provider:"Intuit QuickBooks",type:"oauth",status:"active",icon:"file-text",gradient:"gradient-success",permissions:"Read, Write",lastUsed:"1 hour ago",lastSync:"15 min ago",connected:"2024-03-12",apiKey:"qb_oauth_token"},{id:"PG003",name:"Square Payment Processing",provider:"Square",type:"payment",status:"active",icon:"square",gradient:"gradient-orange",transactions:"2,156",volume:"$321,450",lastSync:"20 min ago",connected:"2024-04-18",apiKey:"sq_api_789xyz"},{id:"API002",name:"Twilio SMS Gateway",provider:"Twilio",type:"api",status:"active",icon:"message-square",gradient:"gradient-danger",requests:"12,456",uptime:"99.95%",lastSync:"45 sec ago",connected:"2024-02-25",apiKey:"tw_api_abc123"},{id:"OA002",name:"Google Workspace",provider:"Google",type:"oauth",status:"active",icon:"mail",gradient:"gradient-warning",permissions:"Calendar, Gmail",lastUsed:"3 hours ago",lastSync:"1 hour ago",connected:"2023-10-05",apiKey:"google_oauth_xyz"},{id:"BA004",name:"Citibank Credit Account",provider:"Citibank",type:"bank",status:"active",icon:"credit-card",gradient:"gradient-indigo",accountNumber:"****6789",balance:"$45,230.00",lastSync:"25 min ago",connected:"2024-05-20",apiKey:"citi_api_xyz"},{id:"API003",name:"SendGrid Email API",provider:"SendGrid",type:"api",status:"pending",icon:"send",gradient:"gradient-teal",requests:"8,234",uptime:"99.92%",lastSync:"2 hours ago",connected:"2024-10-30",apiKey:"sg_api_pending"}];let currentTab="all",searchQuery="",currentFilters={status:["active","pending","inactive","error"],type:["bank","payment","api","oauth"]};function toggleFilter(){document.getElementById("filter-dropdown").classList.toggle("open")}function renderAccounts(){const t=document.getElementById("accounts-container");let e=accountsData.filter(t=>{if(!currentFilters.status.includes(t.status))return!1;if(!currentFilters.type.includes(t.type))return!1;if(searchQuery){const e=searchQuery.toLowerCase();return t.name.toLowerCase().includes(e)||t.provider.toLowerCase().includes(e)||t.id.toLowerCase().includes(e)}return!0});"all"!==currentTab&&(e=e.filter(t=>t.type===currentTab)),t&&(t.innerHTML=e.map(t=>{const e="active"===t.status?"badge-success":"pending"===t.status?"badge-warning":"error"===t.status?"badge-danger":"badge-info",n="active"===t.status?"active":"pending"===t.status?"inactive":"error";return`\n                    <div class="account-card" onclick="viewAccountDetails('${t.id}')">\n                        <div class="flex items-start justify-between mb-4">\n                            <div class="stat-icon ${t.gradient}">\n                                <i data-lucide="${t.icon}" class="text-white"></i>\n                            </div>\n                            <div class="flex items-center gap-2">\n                                <div class="status-dot ${n}"></div>\n                                <span class="badge-modern ${e}">${t.status}</span>\n                            </div>\n                        </div>\n\n                        <h3 class="text-lg font-bold text-text mb-1">${t.name}</h3>\n                        <p class="text-sm text-muted mb-4">${t.provider}</p>\n\n                        ${"bank"===t.type?`\n                            <div class="space-y-2 mb-4">\n                                <div class="flex justify-between text-sm">\n                                    <span class="text-muted">Account</span>\n                                    <span class="text-text font-semibold">${t.accountNumber}</span>\n                                </div>\n                                <div class="flex justify-between text-sm">\n                                    <span class="text-muted">Balance</span>\n                                    <span class="text-text font-bold">${t.balance}</span>\n                                </div>\n                            </div>\n                        `:"payment"===t.type?`\n                            <div class="space-y-2 mb-4">\n                                <div class="flex justify-between text-sm">\n                                    <span class="text-muted">Transactions</span>\n                                    <span class="text-text font-semibold">${t.transactions}</span>\n                                </div>\n                                <div class="flex justify-between text-sm">\n                                    <span class="text-muted">Volume</span>\n                                    <span class="text-text font-bold">${t.volume}</span>\n                                </div>\n                            </div>\n                        `:"api"===t.type?`\n                            <div class="space-y-2 mb-4">\n                                <div class="flex justify-between text-sm">\n                                    <span class="text-muted">Requests</span>\n                                    <span class="text-text font-semibold">${t.requests}</span>\n                                </div>\n                                <div class="flex justify-between text-sm">\n                                    <span class="text-muted">Uptime</span>\n                                    <span class="text-text font-bold">${t.uptime}</span>\n                                </div>\n                            </div>\n                        `:`\n                            <div class="space-y-2 mb-4">\n                                <div class="flex justify-between text-sm">\n                                    <span class="text-muted">Permissions</span>\n                                    <span class="text-text font-semibold">${t.permissions}</span>\n                                </div>\n                                <div class="flex justify-between text-sm">\n                                    <span class="text-muted">Last Used</span>\n                                    <span class="text-text">${t.lastUsed}</span>\n                                </div>\n                            </div>\n                        `}\n\n                        <div class="pt-4 border-t border-border flex items-center justify-between">\n                            <div class="text-xs text-muted">\n                                <i data-lucide="clock" class="w-3 h-3 inline"></i>\n                                ${t.lastSync}\n                            </div>\n                            <button class="btn-icon" style="width: 32px; height: 32px;" onclick="event.stopPropagation(); viewAccountDetails('${t.id}')">\n                                <i data-lucide="more-vertical" class="w-4 h-4"></i>\n                            </button>\n                        </div>\n                    </div>\n                `}).join("")),document.getElementById("showing-count").textContent=e.length,document.getElementById("total-count").textContent=accountsData.length,lucide.createIcons()}function viewAccountDetails(t){const e=accountsData.find(e=>e.id===t);if(!e)return;document.getElementById("detail-account-name").textContent=e.name;const n=`\n                <div class="space-y-6">\n                    <div class="flex items-center gap-4">\n                        <div class="account-logo ${e.gradient}">\n                            <i data-lucide="${e.icon}" class="text-white"></i>\n                        </div>\n                        <div class="flex-1">\n                            <h3 class="font-bold text-text text-lg">${e.provider}</h3>\n                            <p class="text-sm text-muted">${e.id}</p>\n                        </div>\n                        <span class="badge-modern ${"active"===e.status?"badge-success":"pending"===e.status?"badge-warning":"error"===e.status?"badge-danger":"badge-info"}">\n                            ${e.status}\n                        </span>\n                    </div>\n\n                    <div class="card-elevated p-4">\n                        <div class="grid grid-cols-2 gap-4">\n                            <div>\n                                <p class="text-xs text-muted mb-1">Connected On</p>\n                                <p class="font-semibold text-text">${e.connected}</p>\n                            </div>\n                            <div>\n                                <p class="text-xs text-muted mb-1">Last Sync</p>\n                                <p class="font-semibold text-text">${e.lastSync}</p>\n                            </div>\n                        </div>\n                    </div>\n\n                    ${"bank"===e.type?`\n                        <div>\n                            <h4 class="font-bold text-text mb-3">Account Details</h4>\n                            <div class="space-y-3">\n                                <div class="flex justify-between">\n                                    <span class="text-muted">Account Number</span>\n                                    <span class="text-text font-semibold">${e.accountNumber}</span>\n                                </div>\n                                <div class="flex justify-between">\n                                    <span class="text-muted">Current Balance</span>\n                                    <span class="text-text font-bold text-lg">${e.balance}</span>\n                                </div>\n                            </div>\n                        </div>\n                    `:"payment"===e.type?`\n                        <div>\n                            <h4 class="font-bold text-text mb-3">Transaction Stats</h4>\n                            <div class="space-y-3">\n                                <div class="flex justify-between">\n                                    <span class="text-muted">Total Transactions</span>\n                                    <span class="text-text font-semibold">${e.transactions}</span>\n                                </div>\n                                <div class="flex justify-between">\n                                    <span class="text-muted">Total Volume</span>\n                                    <span class="text-text font-bold text-lg">${e.volume}</span>\n                                </div>\n                            </div>\n                        </div>\n                    `:"api"===e.type?`\n                        <div>\n                            <h4 class="font-bold text-text mb-3">API Statistics</h4>\n                            <div class="space-y-3">\n                                <div class="flex justify-between">\n                                    <span class="text-muted">Total Requests</span>\n                                    <span class="text-text font-semibold">${e.requests}</span>\n                                </div>\n                                <div class="flex justify-between">\n                                    <span class="text-muted">Uptime</span>\n                                    <span class="text-success font-bold">${e.uptime}</span>\n                                </div>\n                            </div>\n                        </div>\n                    `:`\n                        <div>\n                            <h4 class="font-bold text-text mb-3">OAuth Details</h4>\n                            <div class="space-y-3">\n                                <div class="flex justify-between">\n                                    <span class="text-muted">Permissions</span>\n                                    <span class="text-text font-semibold">${e.permissions}</span>\n                                </div>\n                                <div class="flex justify-between">\n                                    <span class="text-muted">Last Used</span>\n                                    <span class="text-text">${e.lastUsed}</span>\n                                </div>\n                            </div>\n                        </div>\n                    `}\n\n                    <div>\n                        <h4 class="font-bold text-text mb-3">API Credentials</h4>\n                        <div class="api-key-box">\n                            <span class="api-key-hidden flex-1">••••••••••••••••••••</span>\n                            <button onclick="copyApiKey('${e.apiKey}')" class="btn-icon" style="width: 32px; height: 32px;">\n                                <i data-lucide="copy" class="w-4 h-4"></i>\n                            </button>\n                        </div>\n                    </div>\n\n                    <div>\n                        <h4 class="font-bold text-text mb-3">Recent Activity</h4>\n                        <div class="space-y-3">\n                            <div class="timeline-item">\n                                <div class="timeline-dot"></div>\n                                <div>\n                                    <p class="text-sm font-semibold text-text">Sync completed</p>\n                                    <p class="text-xs text-muted">${e.lastSync}</p>\n                                </div>\n                            </div>\n                            <div class="timeline-item">\n                                <div class="timeline-dot"></div>\n                                <div>\n                                    <p class="text-sm font-semibold text-text">Connection verified</p>\n                                    <p class="text-xs text-muted">1 hour ago</p>\n                                </div>\n                            </div>\n                            <div class="timeline-item">\n                                <div class="timeline-dot"></div>\n                                <div>\n                                    <p class="text-sm font-semibold text-text">API key updated</p>\n                                    <p class="text-xs text-muted">3 days ago</p>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div class="flex flex-wrap gap-3 sm:gap-5 lg:gap-6">\n                        ${"error"===e.status?`\n                            <button class="btn btn-primary w-full sm:w-auto" onclick="reconnectAccount('${e.id}')">\n                                <i data-lucide="refresh-cw" class="w-5 h-5"></i>\n                                Reconnect\n                            </button>\n                        `:`\n                            <button class="btn btn-secondary w-full sm:w-auto" onclick="syncAccount('${e.id}')">\n                                <i data-lucide="refresh-cw" class="w-5 h-5"></i>\n                                Sync Now\n                            </button>\n                        `}\n                        <button class="btn btn-secondary w-full sm:w-auto" onclick="editAccount('${e.id}')">\n                            <i data-lucide="edit" class="w-5 h-5"></i>\n                            Edit\n                        </button>\n                        <button class="btn btn-secondary w-full sm:w-auto" onclick="disconnectAccount('${e.id}')">\n                            <i data-lucide="trash-2" class="w-5 h-5"></i>\n                        </button>\n                    </div>\n                </div>\n            `;document.getElementById("account-details-content").innerHTML=n,lucide.createIcons(),openModal("account-details-modal")}function openAccountMenu(t){}function copyApiKey(t){navigator.clipboard.writeText(t)}function syncAccount(t){closeModal("account-details-modal"),setTimeout(()=>{renderAccounts()},2e3)}function reconnectAccount(t){closeModal("account-details-modal"),setTimeout(()=>{const e=accountsData.find(e=>e.id===t);e&&(e.status="active",renderAccounts())},2e3)}function editAccount(t){closeModal("account-details-modal")}function disconnectAccount(t){if(confirm("Are you sure you want to disconnect this account?")){closeModal("account-details-modal");const e=accountsData.findIndex(e=>e.id===t);e>-1&&(accountsData[e].status="inactive",renderAccounts())}}document.addEventListener("click",t=>{const e=document.getElementById("filter-dropdown");e.contains(t.target)||e.classList.remove("open")}),document.querySelectorAll(".tab-btn-connection[data-tab]").forEach(t=>{t.addEventListener("click",()=>{document.querySelectorAll(".tab-btn-connection[data-tab]").forEach(t=>t.classList.remove("active")),t.classList.add("active"),currentTab=t.dataset.tab,updateMobileDropdown(currentTab),renderAccounts()})});const tabDropdownBtn=document.getElementById("tab-dropdown-btn"),tabDropdownMobile=document.getElementById("tab-dropdown-mobile");function updateMobileDropdown(t){const e=document.getElementById("tab-dropdown-text");document.querySelectorAll(".tab-dropdown-item[data-tab]").forEach(n=>{n.dataset.tab===t?(n.classList.add("active"),e&&(e.textContent=n.textContent.trim())):n.classList.remove("active")})}function convertToCSV(t){if(0===t.length)return"";const e=Object.keys(t[0]),n=t.map(t=>e.map(e=>t[e]).join(","));return[e.join(","),...n].join("\n")}function downloadCSV(t,e){const n=new Blob([t],{type:"text/csv"}),a=window.URL.createObjectURL(n),s=document.createElement("a");s.href=a,s.download=e,s.click(),window.URL.revokeObjectURL(a)}function openModal(t){document.getElementById(t).classList.add("open"),document.body.style.overflow="hidden"}function closeModal(t){document.getElementById(t).classList.remove("open"),document.body.style.overflow=""}tabDropdownBtn&&tabDropdownMobile&&(tabDropdownBtn.addEventListener("click",t=>{t.stopPropagation(),tabDropdownMobile.classList.toggle("open")}),document.addEventListener("click",t=>{tabDropdownMobile.contains(t.target)||tabDropdownMobile.classList.remove("open")})),document.querySelectorAll(".tab-dropdown-item[data-tab]").forEach(t=>{t.addEventListener("click",()=>{const e=t.dataset.tab;currentTab=e,document.querySelectorAll(".tab-dropdown-item").forEach(t=>t.classList.remove("active")),t.classList.add("active");const n=document.getElementById("tab-dropdown-text");n&&(n.textContent=t.textContent.trim()),document.querySelectorAll(".tab-btn-connection[data-tab]").forEach(t=>t.classList.remove("active"));const a=document.querySelector(`.tab-btn-connection[data-tab="${e}"]`);a&&a.classList.add("active"),tabDropdownMobile&&tabDropdownMobile.classList.remove("open"),renderAccounts()})}),document.getElementById("account-search").addEventListener("input",t=>{searchQuery=t.target.value,renderAccounts()}),document.querySelectorAll(".filter-checkbox").forEach(t=>{t.addEventListener("change",t=>{const e=t.target.dataset.filter;t.target.checked?["active","pending","inactive","error"].includes(e)?currentFilters.status.includes(e)||currentFilters.status.push(e):["bank","payment","api","oauth"].includes(e)&&(currentFilters.type.includes(e)||currentFilters.type.push(e)):["active","pending","inactive","error"].includes(e)?currentFilters.status=currentFilters.status.filter(t=>t!==e):["bank","payment","api","oauth"].includes(e)&&(currentFilters.type=currentFilters.type.filter(t=>t!==e)),renderAccounts()})}),document.getElementById("export-accounts")&&document.getElementById("export-accounts").addEventListener("click",()=>{downloadCSV(convertToCSV(accountsData),"linked-accounts-export.csv")}),document.getElementById("add-account-form").addEventListener("submit",t=>{t.preventDefault(),closeModal("add-account-modal"),t.target.reset(),setTimeout(()=>renderAccounts(),500)}),document.querySelectorAll(".modal").forEach(t=>{t.addEventListener("click",e=>{e.target===t&&(t.classList.remove("open"),document.body.style.overflow="")})}),document.addEventListener("DOMContentLoaded",()=>{renderAccounts(),lucide.createIcons()});