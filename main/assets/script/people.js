function toggleSidebar(){const e=document.getElementById("sidebar"),t=document.getElementById("main-content");e.classList.toggle("collapsed"),t.classList.toggle("expanded")}function toggleSubmenu(e){document.getElementById(e).classList.toggle("open")}function toggleDropdown(e){document.getElementById(e).classList.toggle("open"),document.querySelectorAll(".dropdown").forEach(t=>{t.id!==e&&t.classList.remove("open")})}document.addEventListener("click",e=>{e.target.closest(".dropdown")||document.querySelectorAll(".dropdown").forEach(e=>e.classList.remove("open"))});const membersData=[{id:1,name:"Sarah Johnson",email:"sarah.johnson@fintrix.com",role:"admin",department:"Engineering",status:"active",avatar:"assets/images/person1.jpg",joined:"2023-01-15",lastActive:"2 mins ago",tasksCompleted:156,projectsActive:8},{id:2,name:"Michael Chen",email:"michael.chen@fintrix.com",role:"developer",department:"Engineering",status:"active",avatar:"assets/images/person2.jpg",joined:"2023-02-20",lastActive:"5 mins ago",tasksCompleted:243,projectsActive:12},{id:3,name:"Emily Rodriguez",email:"emily.rodriguez@fintrix.com",role:"designer",department:"Design",status:"active",avatar:"assets/images/person3.jpg",joined:"2023-03-10",lastActive:"15 mins ago",tasksCompleted:189,projectsActive:6},{id:4,name:"David Kim",email:"david.kim@fintrix.com",role:"manager",department:"Engineering",status:"active",avatar:"assets/images/person4.jpg",joined:"2022-11-05",lastActive:"1 hour ago",tasksCompleted:312,projectsActive:15},{id:5,name:"Jessica Brown",email:"jessica.brown@fintrix.com",role:"developer",department:"Engineering",status:"active",avatar:"assets/images/person5.jpg",joined:"2023-04-12",lastActive:"2 hours ago",tasksCompleted:178,projectsActive:9},{id:6,name:"Robert Taylor",email:"robert.taylor@fintrix.com",role:"support",department:"Support",status:"active",avatar:"assets/images/person6.jpg",joined:"2023-05-08",lastActive:"30 mins ago",tasksCompleted:421,projectsActive:3},{id:7,name:"Amanda Wilson",email:"amanda.wilson@fintrix.com",role:"designer",department:"Design",status:"pending",avatar:"assets/images/person7.jpg",joined:"2023-10-25",lastActive:"Never",tasksCompleted:0,projectsActive:0},{id:8,name:"James Martinez",email:"james.martinez@fintrix.com",role:"developer",department:"Engineering",status:"active",avatar:"assets/images/person8.jpg",joined:"2023-06-15",lastActive:"1 day ago",tasksCompleted:267,projectsActive:11},{id:9,name:"Linda Anderson",email:"linda.anderson@fintrix.com",role:"manager",department:"Marketing",status:"active",avatar:"assets/images/person9.jpg",joined:"2022-09-20",lastActive:"3 hours ago",tasksCompleted:389,projectsActive:18},{id:10,name:"Christopher Lee",email:"christopher.lee@fintrix.com",role:"developer",department:"Engineering",status:"active",avatar:"assets/images/person10.jpg",joined:"2023-07-22",lastActive:"10 mins ago",tasksCompleted:156,projectsActive:7},{id:11,name:"Patricia White",email:"patricia.white@fintrix.com",role:"admin",department:"Finance",status:"active",avatar:"assets/images/person11.jpg",joined:"2022-08-10",lastActive:"20 mins ago",tasksCompleted:445,projectsActive:14},{id:12,name:"Daniel Harris",email:"daniel.harris@fintrix.com",role:"designer",department:"Design",status:"pending",avatar:"assets/images/person12.jpg",joined:"2023-10-28",lastActive:"Never",tasksCompleted:0,projectsActive:0},{id:13,name:"Karen Clark",email:"karen.clark@fintrix.com",role:"support",department:"Support",status:"active",avatar:"assets/images/person13.jpg",joined:"2023-03-05",lastActive:"45 mins ago",tasksCompleted:512,projectsActive:5},{id:14,name:"Matthew Lewis",email:"matthew.lewis@fintrix.com",role:"developer",department:"Engineering",status:"active",avatar:"assets/images/person14.jpg",joined:"2023-08-14",lastActive:"1 hour ago",tasksCompleted:123,projectsActive:6},{id:15,name:"Nancy Walker",email:"nancy.walker@fintrix.com",role:"manager",department:"Sales",status:"active",avatar:"assets/images/person15.jpg",joined:"2022-10-12",lastActive:"2 hours ago",tasksCompleted:367,projectsActive:16},{id:16,name:"Steven Hall",email:"steven.hall@fintrix.com",role:"developer",department:"Engineering",status:"inactive",avatar:"assets/images/person16.jpg",joined:"2023-01-08",lastActive:"30 days ago",tasksCompleted:89,projectsActive:0},{id:17,name:"Betty Young",email:"betty.young@fintrix.com",role:"designer",department:"Design",status:"active",avatar:"assets/images/person17.jpg",joined:"2023-09-03",lastActive:"5 hours ago",tasksCompleted:134,projectsActive:8},{id:18,name:"Paul King",email:"paul.king@fintrix.com",role:"support",department:"Support",status:"active",avatar:"assets/images/person18.jpg",joined:"2023-04-28",lastActive:"1 hour ago",tasksCompleted:398,projectsActive:4},{id:19,name:"Dorothy Wright",email:"dorothy.wright@fintrix.com",role:"admin",department:"Finance",status:"active",avatar:"assets/images/person19.jpg",joined:"2022-07-15",lastActive:"25 mins ago",tasksCompleted:478,projectsActive:13},{id:20,name:"Kenneth Scott",email:"kenneth.scott@fintrix.com",role:"developer",department:"Engineering",status:"active",avatar:"assets/images/person20.jpg",joined:"2023-09-18",lastActive:"40 mins ago",tasksCompleted:145,projectsActive:9},{id:21,name:"Helen Green",email:"helen.green@fintrix.com",role:"manager",department:"Marketing",status:"active",avatar:"assets/images/person21.jpg",joined:"2022-12-01",lastActive:"3 hours ago",tasksCompleted:321,projectsActive:17},{id:22,name:"George Adams",email:"george.adams@fintrix.com",role:"designer",department:"Design",status:"pending",avatar:"assets/images/person22.jpg",joined:"2023-10-30",lastActive:"Never",tasksCompleted:0,projectsActive:0},{id:23,name:"Sandra Baker",email:"sandra.baker@fintrix.com",role:"support",department:"Support",status:"active",avatar:"assets/images/person23.jpg",joined:"2023-05-20",lastActive:"1 hour ago",tasksCompleted:456,projectsActive:6},{id:24,name:"Brian Nelson",email:"brian.nelson@fintrix.com",role:"developer",department:"Engineering",status:"active",avatar:"assets/images/person24.jpg",joined:"2023-08-25",lastActive:"15 mins ago",tasksCompleted:167,projectsActive:10}];let currentTab="all",currentView="grid",searchQuery="",currentFilters={status:["active","pending","inactive"],role:["admin","manager","developer","designer","support"]},currentEditingMember=null;function getRoleGradient(e){return{admin:"gradient-primary",manager:"gradient-success",developer:"gradient-secondary",designer:"gradient-purple",support:"gradient-orange"}[e]||"gradient-primary"}function getRoleIcon(e){return{admin:"shield",manager:"briefcase",developer:"code",designer:"palette",support:"headphones"}[e]||"user"}function renderMembers(){let e=membersData.filter(e=>{if(!currentFilters.status.includes(e.status))return!1;if(!currentFilters.role.includes(e.role))return!1;if(searchQuery){const t=searchQuery.toLowerCase();return e.name.toLowerCase().includes(t)||e.email.toLowerCase().includes(t)||e.role.toLowerCase().includes(t)||e.department.toLowerCase().includes(t)}return!0});"all"!==currentTab&&(e=e.filter(e=>e.status===currentTab)),"grid"===currentView?renderGridView(e):renderListView(e),updateCounts(e)}function renderGridView(e){const t=document.getElementById("members-grid"),n=document.getElementById("members-list");t.style.display="grid",n.style.display="none",t.innerHTML=e.map(e=>{const t="active"===e.status?"badge-success":"pending"===e.status?"badge-warning":"badge-muted";return`\n                    <div class="member-card" onclick="showMemberDetails(${e.id})">\n                        <div class="member-avatar relative overflow-hidden ${getRoleGradient(e.role)}">\n                            ${e.avatar.includes("/")?`<img src="${e.avatar}" alt="${e.name}" class="w-full h-full object-cover absolute">`:e.avatar}\n                        </div>\n                        \n                        <div class="mb-4">\n                            <h3 class="text-lg font-bold text-text mb-1">${e.name}</h3>\n                            <p class="text-sm text-muted mb-2">${e.email}</p>\n                            <span class="badge-modern ${t}">${e.status}</span>\n                        </div>\n\n                        <div class="space-y-3 mb-4">\n                            <div class="flex items-center gap-2">\n                                <i data-lucide="${getRoleIcon(e.role)}" class="w-4 h-4 text-muted"></i>\n                                <span class="text-sm text-muted capitalize">${e.role}</span>\n                            </div>\n                            <div class="flex items-center gap-2">\n                                <i data-lucide="building" class="w-4 h-4 text-muted"></i>\n                                <span class="text-sm text-muted">${e.department}</span>\n                            </div>\n                            <div class="flex items-center gap-2">\n                                <i data-lucide="calendar" class="w-4 h-4 text-muted"></i>\n                                <span class="text-sm text-muted">Joined ${new Date(e.joined).toLocaleDateString("en-US",{month:"short",year:"numeric"})}</span>\n                            </div>\n                        </div>\n\n                        <div class="grid grid-cols-2 gap-3 mb-4 pt-4 border-t border-border">\n                            <div>\n                                <p class="text-xs text-muted mb-1">Tasks</p>\n                                <p class="text-lg font-bold text-text">${e.tasksCompleted}</p>\n                            </div>\n                            <div>\n                                <p class="text-xs text-muted mb-1">Projects</p>\n                                <p class="text-lg font-bold text-text">${e.projectsActive}</p>\n                            </div>\n                        </div>\n\n                        <div class="flex items-center gap-2">\n                            <button class="btn-secondary flex-1 justify-center py-2.5! lg:py-[14px]!" onclick="editMember(${e.id}); event.stopPropagation();">\n                                <i data-lucide="edit" class="w-4 h-4"></i>\n                                Edit\n                            </button>\n                            <button class="btn-icon py-2.5! lg:py-[14px]!" onclick="deleteMember(${e.id}); event.stopPropagation();">\n                                <i data-lucide="trash-2" class="w-4 h-4 text-danger"></i>\n                            </button>\n                        </div>\n                    </div>\n                `}).join(""),lucide.createIcons()}function renderListView(e){const t=document.getElementById("members-grid"),n=document.getElementById("members-list");t.style.display="none",n.style.display="block",n.innerHTML=e.map(e=>{const t="active"===e.status?"badge-success":"pending"===e.status?"badge-warning":"badge-muted";return`\n                    <div class="member-row" onclick="showMemberDetails(${e.id})">\n                        <div class="member-avatar ${getRoleGradient(e.role)}">\n                            ${e.avatar.includes("/")?`<img src="${e.avatar}" alt="${e.name}">`:e.avatar}\n                        </div>\n\n                        <div class="flex-1 min-w-0">\n                            <div class="flex items-center gap-2 mb-1">\n                                <p class="font-bold text-text">${e.name}</p>\n                                <span class="badge-modern ${t}">${e.status}</span>\n                            </div>\n                            <p class="text-sm text-muted">${e.email}</p>\n                        </div>\n\n                        <div class="shrink-0 text-center px-4">\n                            <p class="text-sm font-bold text-text capitalize mb-1">${e.role}</p>\n                            <p class="text-xs text-muted">${e.department}</p>\n                        </div>\n\n                        <div class="shrink-0 text-center px-4">\n                            <p class="text-sm font-bold text-text mb-1">${e.tasksCompleted}</p>\n                            <p class="text-xs text-muted">Tasks</p>\n                        </div>\n\n                        <div class="shrink-0 text-center px-4">\n                            <p class="text-sm font-bold text-text mb-1">${e.projectsActive}</p>\n                            <p class="text-xs text-muted">Projects</p>\n                        </div>\n\n                        <div class="shrink-0 text-right px-4">\n                            <p class="text-sm text-muted">${e.lastActive}</p>\n                        </div>\n\n                        <div class="flex gap-2 shrink-0">\n                            <button class="btn-icon" onclick="editMember(${e.id}); event.stopPropagation();">\n                                <i data-lucide="edit" class="w-4 h-4"></i>\n                            </button>\n                            <button class="btn-icon" onclick="deleteMember(${e.id}); event.stopPropagation();">\n                                <i data-lucide="trash-2" class="w-4 h-4 text-danger"></i>\n                            </button>\n                        </div>\n                    </div>\n                `}).join(""),lucide.createIcons()}function updateCounts(e){const t=membersData.length,n=membersData.filter(e=>"active"===e.status).length,a=membersData.filter(e=>"pending"===e.status).length,s=membersData.filter(e=>"inactive"===e.status).length;document.getElementById("total-members-count").textContent=t,document.getElementById("active-members-count").textContent=n,document.getElementById("pending-members-count").textContent=a,document.getElementById("inactive-members-count").textContent=s,document.getElementById("tab-all-count").textContent=t,document.getElementById("tab-active-count").textContent=n,document.getElementById("tab-pending-count").textContent=a,document.getElementById("tab-inactive-count").textContent=s,document.getElementById("tab-all-count-mobile").textContent=t,document.getElementById("tab-active-count-mobile").textContent=n,document.getElementById("tab-pending-count-mobile").textContent=a,document.getElementById("tab-inactive-count-mobile").textContent=s,document.getElementById("showing-count").textContent=e.length,document.getElementById("total-count").textContent=t;const o=document.getElementById("filter-count"),i=3-currentFilters.status.length+(5-currentFilters.role.length);i>0?(o.textContent=i,o.style.display="inline-block"):o.style.display="none"}function switchView(e){currentView=e,document.querySelectorAll(".view-toggle-btn").forEach(t=>{t.classList.toggle("active",t.dataset.view===e)}),renderMembers()}document.querySelectorAll(".tab-btn-people[data-tab]").forEach(e=>{e.addEventListener("click",()=>{document.querySelectorAll(".tab-btn-people[data-tab]").forEach(e=>e.classList.remove("active")),e.classList.add("active"),currentTab=e.dataset.tab,updateMobileDropdownPeople(currentTab),renderMembers()})});const tabDropdownBtnPeople=document.getElementById("tab-dropdown-btn-people"),tabDropdownMobilePeople=document.getElementById("tab-dropdown-mobile-people");function updateMobileDropdownPeople(e){const t=document.getElementById("tab-dropdown-text-people");document.querySelectorAll(".tab-dropdown-item-people[data-tab]").forEach(n=>{if(n.dataset.tab===e){if(n.classList.add("active"),t){const e=n.querySelector("span").textContent.trim();t.textContent=e}}else n.classList.remove("active")})}function convertToCSV(e){if(0===e.length)return"";const t=e.map(e=>[e.name,e.email,e.role,e.department,e.status,e.joined,e.lastActive,e.tasksCompleted,e.projectsActive].join(","));return[["Name","Email","Role","Department","Status","Joined Date","Last Active","Tasks Completed","Projects Active"].join(","),...t].join("\n")}function downloadCSV(e,t){const n=new Blob([e],{type:"text/csv"}),a=window.URL.createObjectURL(n),s=document.createElement("a");s.href=a,s.download=t,s.click(),window.URL.revokeObjectURL(a)}function openModal(e){document.getElementById(e).classList.add("open"),document.body.style.overflow="hidden"}function closeModal(e){document.getElementById(e).classList.remove("open"),document.body.style.overflow="",currentEditingMember=null}function showMemberDetails(e){const t=membersData.find(t=>t.id===e);if(!t)return;currentEditingMember=t;const n="active"===t.status?"badge-success":"pending"===t.status?"badge-warning":"badge-muted",a=document.getElementById("details-avatar");a.className=`member-avatar mx-auto ${getRoleGradient(t.role)}`,t.avatar.includes("/")?a.innerHTML=`<img src="${t.avatar}" alt="${t.name}">`:a.textContent=t.avatar,document.getElementById("details-name").textContent=t.name,document.getElementById("details-email").textContent=t.email,document.getElementById("details-status-badge").className=`badge-modern mt-3 inline-block ${n}`,document.getElementById("details-status-badge").textContent=t.status,document.getElementById("details-role").textContent=t.role.charAt(0).toUpperCase()+t.role.slice(1),document.getElementById("details-department").textContent=t.department,document.getElementById("details-joined").textContent=new Date(t.joined).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"}),document.getElementById("details-last-active").textContent=t.lastActive,openModal("member-details-modal")}function editMember(e){const t=membersData.find(t=>t.id===e);t&&(currentEditingMember=t,document.getElementById("edit-name").value=t.name,document.getElementById("edit-email").value=t.email,setDropdownValue("edit-role-dropdown",t.role),setDropdownValue("edit-status-dropdown",t.status),openModal("edit-member-modal"))}function editMemberFromDetails(){closeModal("member-details-modal"),currentEditingMember&&editMember(currentEditingMember.id)}function addMember(e){e.preventDefault(),closeModal("add-member-modal"),e.target.reset()}function updateMember(e){if(e.preventDefault(),currentEditingMember){const e=membersData.find(e=>e.id===currentEditingMember.id);e&&(e.name=document.getElementById("edit-name").value,e.email=document.getElementById("edit-email").value,e.role=document.getElementById("edit-role-value").value,e.status=document.getElementById("edit-status-value").value,renderMembers())}closeModal("edit-member-modal")}function deleteMember(e){if(confirm("Are you sure you want to remove this team member?")){const t=membersData.findIndex(t=>t.id===e);t>-1&&(membersData.splice(t,1),renderMembers(),showToast("Member Removed","Team member has been removed successfully","success"))}}function hideToast(){document.getElementById("toast").classList.remove("show")}function initCustomDropdowns(){const e=[{id:"add-role-dropdown",btnId:"add-role-btn",textId:"add-role-text",valueId:"add-role-value"},{id:"add-department-dropdown",btnId:"add-department-btn",textId:"add-department-text",valueId:"add-department-value"},{id:"edit-role-dropdown",btnId:"edit-role-btn",textId:"edit-role-text",valueId:"edit-role-value"},{id:"edit-status-dropdown",btnId:"edit-status-btn",textId:"edit-status-text",valueId:"edit-status-value"}];e.forEach(t=>{const n=document.getElementById(t.id),a=document.getElementById(t.btnId),s=document.getElementById(t.textId),o=document.getElementById(t.valueId);if(!n||!a)return;a.addEventListener("click",a=>{a.stopPropagation(),e.forEach(e=>{e.id!==t.id&&document.getElementById(e.id)?.classList.remove("open")}),n.classList.toggle("open")});const i=n.querySelectorAll(".custom-dropdown-item");i.forEach(e=>{e.addEventListener("click",t=>{t.stopPropagation();const a=e.dataset.value,r=e.textContent.trim();s&&(s.textContent=r),o&&(o.value=a),i.forEach(e=>e.classList.remove("active")),e.classList.add("active"),n.classList.remove("open"),lucide.createIcons()})})}),document.addEventListener("click",t=>{t.target.closest(".custom-dropdown")||e.forEach(e=>{document.getElementById(e.id)?.classList.remove("open")})})}function setDropdownValue(e,t){const n=document.getElementById(e);n&&n.querySelectorAll(".custom-dropdown-item").forEach(e=>{e.dataset.value===t&&e.click()})}tabDropdownBtnPeople&&tabDropdownMobilePeople&&(tabDropdownBtnPeople.addEventListener("click",e=>{e.stopPropagation(),tabDropdownMobilePeople.classList.toggle("open")}),document.addEventListener("click",e=>{tabDropdownMobilePeople.contains(e.target)||tabDropdownMobilePeople.classList.remove("open")})),document.querySelectorAll(".tab-dropdown-item-people[data-tab]").forEach(e=>{e.addEventListener("click",()=>{const t=e.dataset.tab;currentTab=t,document.querySelectorAll(".tab-dropdown-item-people").forEach(e=>e.classList.remove("active")),e.classList.add("active");const n=document.getElementById("tab-dropdown-text-people");if(n){const t=e.querySelector("span").textContent.trim();n.textContent=t}document.querySelectorAll(".tab-btn-people[data-tab]").forEach(e=>e.classList.remove("active"));const a=document.querySelector(`.tab-btn-people[data-tab="${t}"]`);a&&a.classList.add("active"),tabDropdownMobilePeople&&tabDropdownMobilePeople.classList.remove("open"),renderMembers()})}),document.getElementById("member-search").addEventListener("input",e=>{searchQuery=e.target.value,renderMembers()}),document.querySelectorAll(".filter-checkbox").forEach(e=>{e.addEventListener("change",e=>{const t=e.target.dataset.filter;e.target.checked?["active","pending","inactive"].includes(t)?currentFilters.status.includes(t)||currentFilters.status.push(t):["admin","manager","developer","designer","support"].includes(t)&&(currentFilters.role.includes(t)||currentFilters.role.push(t)):["active","pending","inactive"].includes(t)?currentFilters.status=currentFilters.status.filter(e=>e!==t):["admin","manager","developer","designer","support"].includes(t)&&(currentFilters.role=currentFilters.role.filter(e=>e!==t)),renderMembers()})}),document.getElementById("export-members")&&document.getElementById("export-members").addEventListener("click",()=>{downloadCSV(convertToCSV(membersData),"team-members-export.csv")}),document.querySelectorAll(".modal").forEach(e=>{e.addEventListener("click",t=>{t.target===e&&(e.classList.remove("open"),document.body.style.overflow="",currentEditingMember=null)})}),document.addEventListener("DOMContentLoaded",()=>{renderMembers(),initCustomDropdowns(),lucide.createIcons()});