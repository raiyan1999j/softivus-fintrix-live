const paymentsData=[{id:"PAY-2024-10-31-001",customer:"Acme Corporation",email:"billing@acme.com",type:"receive",status:"completed",amount:15420,currency:"USD",method:"Bank Transfer",date:"2024-10-31",time:"14:23",description:"Invoice #INV-1025 payment",icon:"trending-up",gradient:"gradient-success"},{id:"PAY-2024-10-31-002",customer:"TechStart Solutions",email:"payments@techstart.io",type:"send",status:"completed",amount:8750,currency:"USD",method:"Wallet",date:"2024-10-31",time:"13:45",description:"Service subscription renewal",icon:"send",gradient:"gradient-primary"},{id:"PAY-2024-10-31-003",customer:"GlobalTrade Inc.",email:"finance@globaltrade.com",type:"receive",status:"pending",amount:24680,currency:"EUR",method:"Credit Card",date:"2024-10-31",time:"12:15",description:"Q4 consulting services",icon:"clock",gradient:"gradient-warning"},{id:"PAY-2024-10-31-004",customer:"DataFlow Systems",email:"accounts@dataflow.net",type:"send",status:"failed",amount:3200,currency:"USD",method:"Bank Transfer",date:"2024-10-31",time:"11:30",description:"Software license payment",icon:"x-circle",gradient:"gradient-danger"},{id:"PAY-2024-10-31-005",customer:"CloudNet Services",email:"billing@cloudnet.com",type:"receive",status:"completed",amount:12800,currency:"GBP",method:"Wallet",date:"2024-10-31",time:"10:50",description:"Monthly hosting payment",icon:"trending-up",gradient:"gradient-success"},{id:"PAY-2024-10-30-006",customer:"FinServe Ltd",email:"payments@finserve.co.uk",type:"send",status:"completed",amount:5640,currency:"USD",method:"Credit Card",date:"2024-10-30",time:"16:20",description:"API integration services",icon:"send",gradient:"gradient-primary"},{id:"PAY-2024-10-30-007",customer:"MetroBank Holdings",email:"treasury@metrobank.com",type:"receive",status:"completed",amount:45200,currency:"USD",method:"Wire Transfer",date:"2024-10-30",time:"15:10",description:"Annual contract payment",icon:"trending-up",gradient:"gradient-success"},{id:"PAY-2024-10-30-008",customer:"SmartPay Technologies",email:"billing@smartpay.tech",type:"refund",status:"completed",amount:1250,currency:"EUR",method:"Wallet",date:"2024-10-30",time:"14:35",description:"Refund for cancelled service",icon:"rotate-ccw",gradient:"gradient-cyan"},{id:"PAY-2024-10-30-009",customer:"Enterprise Solutions Co.",email:"ap@enterprise.com",type:"receive",status:"pending",amount:18900,currency:"USD",method:"Bank Transfer",date:"2024-10-30",time:"13:25",description:"Project milestone payment",icon:"clock",gradient:"gradient-warning"},{id:"PAY-2024-10-30-010",customer:"Digital Commerce Ltd",email:"finance@digitalcommerce.io",type:"send",status:"completed",amount:6780,currency:"GBP",method:"Wallet",date:"2024-10-30",time:"12:05",description:"Marketing services payment",icon:"send",gradient:"gradient-primary"},{id:"PAY-2024-10-29-011",customer:"InnovateTech Corp",email:"accounts@innovatetech.com",type:"receive",status:"completed",amount:22350,currency:"USD",method:"Credit Card",date:"2024-10-29",time:"17:40",description:"Development services Q4",icon:"trending-up",gradient:"gradient-success"},{id:"PAY-2024-10-29-012",customer:"SecureVault Systems",email:"billing@securevault.net",type:"send",status:"failed",amount:4150,currency:"EUR",method:"Bank Transfer",date:"2024-10-29",time:"16:15",description:"Security audit payment",icon:"x-circle",gradient:"gradient-danger"},{id:"PAY-2024-10-29-013",customer:"VelocityPay Inc",email:"payments@velocitypay.com",type:"receive",status:"completed",amount:9640,currency:"USD",method:"Wallet",date:"2024-10-29",time:"15:30",description:"Platform integration fees",icon:"trending-up",gradient:"gradient-success"},{id:"PAY-2024-10-29-014",customer:"CloudForce Solutions",email:"finance@cloudforce.io",type:"send",status:"completed",amount:11200,currency:"GBP",method:"Credit Card",date:"2024-10-29",time:"14:20",description:"Cloud infrastructure costs",icon:"send",gradient:"gradient-primary"},{id:"PAY-2024-10-29-015",customer:"PayStream Global",email:"ar@paystream.global",type:"receive",status:"pending",amount:16750,currency:"USD",method:"Wire Transfer",date:"2024-10-29",time:"13:10",description:"Quarterly service payment",icon:"clock",gradient:"gradient-warning"},{id:"PAY-2024-10-28-016",customer:"NexGen Financial",email:"treasury@nexgen.finance",type:"receive",status:"completed",amount:38200,currency:"EUR",method:"Bank Transfer",date:"2024-10-28",time:"16:45",description:"Annual platform license",icon:"trending-up",gradient:"gradient-success"},{id:"PAY-2024-10-28-017",customer:"Rapid Commerce Ltd",email:"billing@rapidcommerce.co",type:"send",status:"completed",amount:7380,currency:"USD",method:"Wallet",date:"2024-10-28",time:"15:25",description:"Logistics and shipping",icon:"send",gradient:"gradient-primary"},{id:"PAY-2024-10-28-018",customer:"ProActive Systems",email:"accounts@proactive.tech",type:"refund",status:"completed",amount:2890,currency:"GBP",method:"Credit Card",date:"2024-10-28",time:"14:15",description:"Service credit refund",icon:"rotate-ccw",gradient:"gradient-cyan"},{id:"PAY-2024-10-28-019",customer:"TradeSphere LLC",email:"finance@tradesphere.com",type:"receive",status:"completed",amount:14500,currency:"USD",method:"Wallet",date:"2024-10-28",time:"13:50",description:"Transaction processing fees",icon:"trending-up",gradient:"gradient-success"},{id:"PAY-2024-10-28-020",customer:"Quantum Analytics",email:"payments@quantum.analytics",type:"send",status:"failed",amount:5920,currency:"EUR",method:"Bank Transfer",date:"2024-10-28",time:"12:30",description:"Data analytics subscription",icon:"x-circle",gradient:"gradient-danger"}];let currentTab="all",searchQuery="",currentFilters={status:["completed","pending","failed"],type:["send","receive"],dateRange:"month"},currentPage=1;const itemsPerPage=10;function toggleSubNav(e){const t=e.nextElementSibling;e.classList.contains("expanded"),document.querySelectorAll(".nav-item.expanded").forEach(t=>{t!==e&&(t.classList.remove("expanded"),t.nextElementSibling.classList.remove("show"))}),e.classList.toggle("expanded"),t.classList.toggle("show")}const tabDropdownBtnTransaction=document.getElementById("tab-dropdown-btn-transaction"),tabDropdownMobileTransaction=document.getElementById("tab-dropdown-mobile-transaction");if(tabDropdownBtnTransaction&&tabDropdownMobileTransaction){tabDropdownBtnTransaction.addEventListener("click",e=>{e.stopPropagation(),tabDropdownMobileTransaction.classList.toggle("open")}),document.addEventListener("click",e=>{tabDropdownMobileTransaction.contains(e.target)||tabDropdownMobileTransaction.classList.remove("open")});const e=document.querySelectorAll(".tab-dropdown-item-transaction[data-tab]");e.forEach(t=>{t.addEventListener("click",n=>{n.stopPropagation();const a=t.dataset.tab;e.forEach(e=>e.classList.remove("active")),t.classList.add("active");const s=document.getElementById("tab-dropdown-text-transaction");s&&(s.textContent=t.textContent.trim()),tabDropdownMobileTransaction.classList.remove("open"),switchTabTransaction(a),lucide.createIcons()})})}function updateMobileDropdownTransaction(e){const t=document.getElementById("tab-dropdown-text-transaction");document.querySelectorAll(".tab-dropdown-item-transaction[data-tab]").forEach(n=>{n.dataset.tab===e?(n.classList.add("active"),t&&(t.textContent=n.textContent.trim())):n.classList.remove("active")})}function switchTabTransaction(e){currentTab=e,currentPage=1,document.querySelectorAll(".tab-button-transaction[data-tab]").forEach(e=>e.classList.remove("active"));const t=document.querySelector(`.tab-button-transaction[data-tab="${e}"]`);t&&t.classList.add("active"),updateMobileDropdownTransaction(e),renderPayments()}function renderPayments(){const e=document.getElementById("payments-container");let t=paymentsData.filter(e=>{if(!currentFilters.status.includes(e.status))return!1;if(!currentFilters.type.includes(e.type))return!1;if(searchQuery){const t=searchQuery.toLowerCase();return e.customer.toLowerCase().includes(t)||e.id.toLowerCase().includes(t)||e.email.toLowerCase().includes(t)||e.description.toLowerCase().includes(t)}return!0});"succeeded"===currentTab?t=t.filter(e=>"completed"===e.status):"pending"===currentTab?t=t.filter(e=>"pending"===e.status):"failed"===currentTab?t=t.filter(e=>"failed"===e.status):"refunded"===currentTab&&(t=t.filter(e=>"refund"===e.type)),Math.ceil(t.length/10);const n=10*(currentPage-1),a=n+10,s=t.slice(n,a);e.innerHTML=s.map(e=>{const t="completed"===e.status?"badge-success":"pending"===e.status?"badge-warning":"failed"===e.status?"badge-danger":"badge-info",n="receive"===e.type?"text-success":"refund"===e.type?"text-info":"text-text",a="receive"===e.type||"refund"===e.type?"+":"-";return`\n                    <div class="flex flex-col sm:flex-row sm:items-center sm:justify-start justify-center gap-3 sm:gap-4 py-5 px-6 bg-bg rounded-[20px] mb-3 transition-all duration-75 border border-border relative"\n     onclick="showPaymentDetails('${e.id}')">\n\n    \x3c!-- Left side – Icon + Customer details --\x3e\n    <div class="flex max-sm:flex-col flex-1 w-full gap-3 sm:gap-4 flex-row xl:items-center">\n        \n        \x3c!-- Icon --\x3e\n        <div class="w-10 h-10 sm:w-12 sm:h-12 ${e.gradient} rounded-2xl flex items-center justify-center shrink-0 p-1 sm:p-2">\n            <i data-lucide="${e.icon}" class="w-5 h-5 sm:w-6 sm:h-6 text-white"></i>\n        </div>\n\n        \x3c!-- Customer Info --\x3e\n        <div class="flex-1 min-w-0">\n            <div class="flex flex-col xl:flex-row xl:items-center items-start gap-2 mb-1">\n                <p class="font-bold text-sm sm:text-base lg:text-lg text-text truncate xl:w-auto">\n                    ${e.customer}\n                </p>\n                <span class="badge-modern ${t} text-[10px] sm:text-xs">\n                    ${e.status}\n                </span>\n            </div>\n\n            <p class="text-[10px] sm:text-xs text-muted whitespace-normal sm:whitespace-nowrap truncate">\n                ${e.id} • ${e.date} ${e.time}\n            </p>\n\n            <p class="text-[10px] sm:text-xs text-muted mt-1 truncate">\n                ${e.description}\n            </p>\n\n            \x3c!-- Type & Method (visible on larger screens or always depending on your preference) --\x3e\n            <div class="flex flex-wrap gap-2 mt-2 text-[10px] sm:text-xs text-muted">\n                <span class="capitalize">${e.type}</span>\n                <span>•</span>\n                <span class="capitalize">${e.method}</span>\n            </div>\n        </div>\n    </div>\n\n    \x3c!-- Right side – Amount + More button --\x3e\n    <div class="flex items-center justify-between sm:justify-end gap-4">\n        \n        <div class="sm:text-right text-left">\n            <p class="text-lg font-bold ${n}">\n                ${a}${e.currency} ${e.amount.toLocaleString()}\n            </p>\n            \x3c!-- Optional: repeat time or other info if you want --\x3e\n            <p class="text-sm text-muted hidden sm:block">${e.time}</p>\n        </div>\n\n        \x3c!-- More button (stops click on the whole card) --\x3e\n        <div class="max-sm:absolute max-sm:top-4 max-sm:right-4">\n            <button class="btn-icon-index"\n                    onclick="event.stopPropagation(); showPaymentDetails('${e.id}')">\n                <i data-lucide="more-vertical" class="w-5 h-5"></i>\n            </button>\n        </div>\n    </div>\n</div>\n\n\n                `}).join(""),document.getElementById("showing-count1").textContent=t.length,document.getElementById("showing-count2").textContent=t.length,document.getElementById("total-count1").textContent=paymentsData.length,document.getElementById("total-count2").textContent=paymentsData.length,lucide.createIcons()}function showPaymentDetails(e){const t=paymentsData.find(t=>t.id===e);if(!t)return;const n=`\n                <div class="flex flex-wrap items-center justify-between p-4 bg-bg rounded-2xl">\n                    <div>\n                        <p class="text-sm text-muted">Payment ID</p>\n                        <p class="font-bold text-text">${t.id}</p>\n                    </div>\n                    <span class="badge-modern ${"completed"===t.status?"badge-success":"pending"===t.status?"badge-warning":"badge-danger"}">${t.status}</span>\n                </div>\n\n                <div class="p-4 bg-bg rounded-2xl">\n                    <p class="text-sm text-muted mb-1">Customer</p>\n                    <p class="font-bold text-text">${t.customer}</p>\n                    <p class="text-sm text-muted">${t.email}</p>\n                </div>\n\n                <div class="grid grid-col-1 md:grid-cols-2 gap-4">\n                    <div class="p-4 bg-bg rounded-2xl">\n                        <p class="text-sm text-muted mb-1">Amount</p>\n                        <p class="font-bold text-text text-xl">${t.currency} ${t.amount.toLocaleString()}</p>\n                    </div>\n                    <div class="p-4 bg-bg rounded-2xl">\n                        <p class="text-sm text-muted mb-1">Type</p>\n                        <p class="font-bold text-text capitalize">${t.type}</p>\n                    </div>\n                </div>\n\n                <div class="p-4 bg-bg rounded-2xl">\n                    <p class="text-sm text-muted mb-1">Payment Method</p>\n                    <p class="font-bold text-text">${t.method}</p>\n                </div>\n\n                <div class="p-4 bg-bg rounded-2xl">\n                    <p class="text-sm text-muted mb-1">Description</p>\n                    <p class="font-bold text-text">${t.description}</p>\n                </div>\n\n                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">\n                    <div class="p-4 bg-bg rounded-2xl">\n                        <p class="text-sm text-muted mb-1">Date</p>\n                        <p class="font-bold text-text">${t.date}</p>\n                    </div>\n                    <div class="p-4 bg-bg rounded-2xl">\n                        <p class="text-sm text-muted mb-1">Time</p>\n                        <p class="font-bold text-text">${t.time}</p>\n                    </div>\n                </div>\n            `;document.getElementById("payment-details-content").innerHTML=n,openModal("payment-details-modal")}function updateActiveFiltersCount(){const e=currentFilters.status.length+currentFilters.type.length;document.getElementById("active-filters").textContent=e}function applyFilters(){document.getElementById("filter-dropdown").classList.remove("open"),currentPage=1,renderPayments()}function resetFilters(){currentFilters={status:["completed","pending","failed"],type:["send","receive"],dateRange:"month"},document.querySelectorAll(".filter-checkbox").forEach(e=>{const t=e.dataset.filter;e.checked=currentFilters.status.includes(t)||currentFilters.type.includes(t)}),document.getElementById("date-range").value="month",updateActiveFiltersCount(),renderPayments()}function convertToCSV(e){if(0===e.length)return"";const t=Object.keys(e[0]),n=e.map(e=>t.map(t=>`"${e[t]}"`).join(","));return[t.join(","),...n].join("\n")}function downloadCSV(e,t){const n=new Blob([e],{type:"text/csv"}),a=window.URL.createObjectURL(n),s=document.createElement("a");s.href=a,s.download=t,s.click(),window.URL.revokeObjectURL(a)}function openModal(e){document.getElementById(e).classList.add("open"),document.body.style.overflow="hidden"}function closeModal(e){document.getElementById(e).classList.remove("open"),document.body.style.overflow=""}function createPayment(){closeModal("create-payment-modal"),setTimeout(()=>{renderPayments()},500)}function showActions(e){}document.querySelectorAll(".tab-button-transaction[data-tab]").forEach(e=>{e.addEventListener("click",()=>{switchTabTransaction(e.dataset.tab)})}),document.querySelectorAll("[data-tab]").forEach(e=>{e.addEventListener("click",()=>{document.querySelectorAll("[data-tab]").forEach(e=>e.classList.remove("active")),e.classList.add("active"),currentTab=e.dataset.tab,currentPage=1,renderPayments()})}),document.getElementById("payment-search")&&document.getElementById("payment-search").addEventListener("input",e=>{searchQuery=e.target.value,currentPage=1,renderPayments()}),document.getElementById("filter-toggle").addEventListener("click",e=>{e.stopPropagation(),document.getElementById("filter-dropdown").classList.toggle("open")}),document.addEventListener("click",e=>{const t=document.getElementById("filter-dropdown"),n=document.getElementById("filter-toggle");t.contains(e.target)||n.contains(e.target)||t.classList.remove("open")}),document.querySelectorAll(".filter-checkbox").forEach(e=>{e.addEventListener("change",e=>{const t=e.target.dataset.filter;e.target.checked?["completed","pending","failed","refunded"].includes(t)?currentFilters.status.includes(t)||currentFilters.status.push(t):["send","receive","refund"].includes(t)&&(currentFilters.type.includes(t)||currentFilters.type.push(t)):["completed","pending","failed","refunded"].includes(t)?currentFilters.status=currentFilters.status.filter(e=>e!==t):["send","receive","refund"].includes(t)&&(currentFilters.type=currentFilters.type.filter(e=>e!==t)),updateActiveFiltersCount()})}),document.getElementById("date-range").addEventListener("change",e=>{currentFilters.dateRange=e.target.value}),document.getElementById("export-payments")&&document.getElementById("export-payments").addEventListener("click",()=>{downloadCSV(convertToCSV(paymentsData),"payments-export.csv")}),document.querySelectorAll(".modal").forEach(e=>{e.addEventListener("click",t=>{t.target===e&&(e.classList.remove("open"),document.body.style.overflow="")})}),document.addEventListener("DOMContentLoaded",()=>{renderPayments(),updateActiveFiltersCount(),lucide.createIcons();const e=document.getElementById("notif-toggle"),t=document.getElementById("profile-toggle");document.addEventListener("click",n=>{const a=document.querySelector('input[id="notif-toggle"]')?.parentElement;e&&a&&!a.contains(n.target)&&e.checked&&(e.checked=!1);const s=document.querySelector('input[id="profile-toggle"]')?.parentElement;t&&s&&!s.contains(n.target)&&t.checked&&(t.checked=!1)})});