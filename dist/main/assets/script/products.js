const themeToggle=document.getElementById("themeToggle"),htmlElement=document.documentElement,currentTheme=localStorage.getItem("theme")||"light";htmlElement.setAttribute("data-theme",currentTheme),themeToggle&&themeToggle.addEventListener("click",function(){const t="light"===htmlElement.getAttribute("data-theme")?"dark":"light";htmlElement.setAttribute("data-theme",t),localStorage.setItem("theme",t)});const openSidebar=document.getElementById("openSidebar"),closeSidebar=document.getElementById("closeSidebar"),sidebar=document.getElementById("sidebar"),mobileMenuOverlay=document.getElementById("mobileMenuOverlay");function toggleSubmenu(t){document.getElementById(t).classList.toggle("active")}openSidebar&&openSidebar.addEventListener("click",function(){sidebar.classList.add("active"),mobileMenuOverlay.classList.add("active")}),closeSidebar&&closeSidebar.addEventListener("click",function(){sidebar.classList.remove("active"),mobileMenuOverlay.classList.remove("active")}),mobileMenuOverlay&&mobileMenuOverlay.addEventListener("click",function(){sidebar.classList.remove("active"),mobileMenuOverlay.classList.remove("active")});const tabItems=document.querySelectorAll(".tab-item");function updateCounts(){const t=document.querySelectorAll(".product-row"),e=Array.from(t).filter(t=>"none"!==t.style.display).length,o=t.length,n=document.getElementById("showing-count1"),d=document.getElementById("showing-count2"),l=document.getElementById("total-count1"),c=document.getElementById("total-count2");n&&(n.textContent=e),d&&(d.textContent=e),l&&(l.textContent=o),c&&(c.textContent=o)}function filterByTab(t){document.querySelectorAll(".product-row").forEach(e=>{if("all"===t)e.style.display="";else if("active"===t)e.style.display="Active"===e.getAttribute("data-status")?"":"none";else if("inactive"===t)e.style.display="Inactive"===e.getAttribute("data-status")?"":"none";else if("low-stock"===t){const t=e.querySelector("td:nth-child(6) span:last-child")?.textContent;e.style.display=t&&parseInt(t)<50&&"Unlimited"!==t?"":"none"}}),updateCounts()}function toggleDropdown(t){const e=document.getElementById(t);document.querySelectorAll(".dropdown").forEach(e=>{e.id!==t&&e.classList.add("hidden!")}),e.classList.toggle("hidden!")}function filterByCategory(t){document.getElementById("selectedCategory").textContent=t,toggleDropdown("categoryDropdown"),document.querySelectorAll(".product-row").forEach(e=>{e.style.display="All Categories"===t||e.getAttribute("data-category")===t?"":"none"}),updateCounts()}function filterByStatus(t){document.getElementById("selectedStatus").textContent=t,toggleDropdown("statusDropdown"),document.querySelectorAll(".product-row").forEach(e=>{e.style.display="All Status"===t||e.getAttribute("data-status")===t?"":"none"}),updateCounts()}function filterByPrice(t){document.getElementById("selectedPrice").textContent=t,toggleDropdown("priceDropdown"),document.querySelectorAll(".product-row").forEach(e=>{const o=parseFloat(e.getAttribute("data-price"));"All Prices"===t?e.style.display="":"$0 - $50"===t?e.style.display=o>=0&&o<=50?"":"none":"$50 - $200"===t?e.style.display=o>50&&o<=200?"":"none":"$200+"===t&&(e.style.display=o>200?"":"none")}),updateCounts()}function changeView(t){const e=document.getElementById("listView"),o=document.getElementById("gridView");document.querySelectorAll(".view-toggle button").forEach((e,o)=>{e.classList.remove("active"),("list"===t&&0===o||"grid"===t&&1===o)&&e.classList.add("active")}),"list"===t?(e.style.display="block",o.style.display="none"):(e.style.display="none",o.style.display="block")}tabItems.forEach(t=>{t.addEventListener("click",function(){tabItems.forEach(t=>t.classList.remove("active")),this.classList.add("active"),filterByTab(this.getAttribute("data-tab"))})}),document.addEventListener("click",function(t){t.target.closest("button")||t.target.closest(".dropdown")||document.querySelectorAll(".dropdown").forEach(t=>t.classList.add("hidden!"))});const searchInput=document.getElementById("searchInput");function toggleSelectAll(t){document.querySelectorAll(".product-checkbox").forEach(e=>e.checked=t.checked)}function exportProducts(){alert("Exporting products to CSV..."),console.log("Export functionality triggered")}function editProduct(t){alert(`Editing product: ${t}`),console.log("Edit product:",t)}function viewProduct(t){alert(`Viewing product details: ${t}`),console.log("View product:",t)}function deleteProduct(t){confirm(`Are you sure you want to delete product ${t}?`)&&(alert(`Product ${t} deleted successfully`),console.log("Delete product:",t))}function openAddProductModal(){document.getElementById("addProductModal").classList.add("active")}function closeAddProductModal(){document.getElementById("addProductModal").classList.remove("active")}searchInput&&searchInput.addEventListener("input",function(t){const e=t.target.value.toLowerCase();document.querySelectorAll(".product-row").forEach(t=>{const o=t.querySelector(".font-semibold")?.textContent.toLowerCase(),n=t.querySelector("td:nth-child(3) span")?.textContent.toLowerCase();o?.includes(e)||n?.includes(e)?t.style.display="":t.style.display="none"}),updateCounts()}),window.openAddProductModal=openAddProductModal,window.closeAddProductModal=closeAddProductModal,window.deleteProduct=deleteProduct,document.getElementById("addProductForm").addEventListener("submit",function(t){t.preventDefault(),alert("Product added successfully!"),closeAddProductModal()}),document.getElementById("addProductModal").addEventListener("click",function(t){t.target===this&&closeAddProductModal()});const tabDropdownBtnAnalytics=document.getElementById("tab-dropdown-btn-analytics"),tabDropdownMobileAnalytics=document.getElementById("tab-dropdown-mobile-analytics");if(tabDropdownBtnAnalytics&&tabDropdownMobileAnalytics){tabDropdownBtnAnalytics.addEventListener("click",t=>{t.stopPropagation(),tabDropdownMobileAnalytics.classList.toggle("open")}),document.addEventListener("click",t=>{tabDropdownMobileAnalytics.contains(t.target)||tabDropdownMobileAnalytics.classList.remove("open")});const t=document.querySelectorAll(".tab-dropdown-item-analytics[data-tab]");t.forEach(e=>{e.addEventListener("click",o=>{o.stopPropagation();const n=e.dataset.tab;t.forEach(t=>t.classList.remove("active")),e.classList.add("active");const d=document.getElementById("tab-dropdown-text-analytics");d&&(d.textContent=e.textContent.trim()),tabDropdownMobileAnalytics.classList.remove("open"),switchTab(n),lucide.createIcons()})})}function updateMobileDropdownAnalytics(t){const e=document.getElementById("tab-dropdown-text-analytics");document.querySelectorAll(".tab-dropdown-item-analytics[data-tab]").forEach(o=>{o.dataset.tab===t?(o.classList.add("active"),e&&(e.textContent=o.textContent.trim())):o.classList.remove("active")})}document.addEventListener("DOMContentLoaded",updateCounts);