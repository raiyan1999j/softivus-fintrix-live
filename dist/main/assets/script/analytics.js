const transactionsData=[{id:"TXN001",type:"receive",status:"completed",customer:"John Anderson",amount:2450,currency:"USD",date:"2025-10-30",time:"2 hours ago",icon:"arrow-down-left",gradient:"gradient-success"},{id:"TXN002",type:"send",status:"completed",customer:"Sarah Miller",amount:890.5,currency:"EUR",date:"2025-10-30",time:"5 hours ago",icon:"arrow-up-right",gradient:"gradient-danger"},{id:"TXN003",type:"exchange",status:"pending",customer:"Currency Exchange",amount:1200,currency:"GBP",date:"2025-10-30",time:"8 hours ago",icon:"repeat",gradient:"gradient-primary"},{id:"TXN004",type:"receive",status:"completed",customer:"David Thompson",amount:5670.25,currency:"USD",date:"2025-10-29",time:"1 day ago",icon:"arrow-down-left",gradient:"gradient-success"},{id:"TXN005",type:"send",status:"failed",customer:"Emily Wilson",amount:325,currency:"USD",date:"2025-10-29",time:"1 day ago",icon:"arrow-up-right",gradient:"gradient-danger"},{id:"TXN006",type:"receive",status:"completed",customer:"Michael Brown",amount:1890.75,currency:"EUR",date:"2025-10-29",time:"1 day ago",icon:"arrow-down-left",gradient:"gradient-success"},{id:"TXN007",type:"exchange",status:"completed",customer:"Currency Exchange",amount:3400,currency:"JPY",date:"2025-10-28",time:"2 days ago",icon:"repeat",gradient:"gradient-primary"},{id:"TXN008",type:"send",status:"completed",customer:"Jessica Davis",amount:670.3,currency:"GBP",date:"2025-10-28",time:"2 days ago",icon:"arrow-up-right",gradient:"gradient-danger"},{id:"TXN009",type:"receive",status:"completed",customer:"Robert Martinez",amount:4200,currency:"USD",date:"2025-10-28",time:"2 days ago",icon:"arrow-down-left",gradient:"gradient-success"},{id:"TXN010",type:"send",status:"pending",customer:"Linda Garcia",amount:1550.8,currency:"EUR",date:"2025-10-27",time:"3 days ago",icon:"arrow-up-right",gradient:"gradient-danger"}];let currentFilters={status:["completed","pending","failed"],type:["send","receive","exchange"]},searchQuery="",currentTab="all",revenueChart=null,currentPeriod="week";function toggleSubmenu(t){event.preventDefault(),document.getElementById(t).classList.toggle("open")}function toggleDropdown(t){document.getElementById(t).classList.toggle("open")}function clearFilters(){document.querySelectorAll(".filter-checkbox").forEach(t=>t.checked=!0),updateFilterCount()}function applyFilters(){updateFilterCount(),toggleDropdown("filter-dropdown")}function updateFilterCount(){const t=document.querySelectorAll(".filter-checkbox:checked").length,e=document.querySelectorAll(".filter-checkbox").length;document.getElementById("active-filters-count").textContent=t===e?"All":t}function switchTab(t){document.querySelectorAll(".tab").forEach(t=>t.classList.remove("active"));const e=document.querySelector(`.tab[data-tab="${t}"]`);e&&e.classList.add("active"),updateMobileDropdownAnalytics(t),document.querySelectorAll(".tab-content").forEach(t=>{t.style.display="none"}),document.getElementById(`${t}-tab`).style.display="block",setTimeout(()=>{initAllCharts()},100)}function generateExportData(){return[["Metric","Value","Change"],["Total Revenue","$847,392","+12.5%"],["Total Transactions","12,847","+8.2%"],["Active Customers","4,892","+15.3%"],["Success Rate","94.7%","-2.1%"]].map(t=>t.join(",")).join("\n")}function downloadCSV(t,e){const r=new Blob([t],{type:"text/csv"}),o=window.URL.createObjectURL(r),a=document.createElement("a");a.href=o,a.download=e,a.click(),window.URL.revokeObjectURL(o)}document.addEventListener("click",t=>{t.target.closest(".dropdown")||document.querySelectorAll(".dropdown").forEach(t=>t.classList.remove("open"))}),document.querySelectorAll(".period-btn").forEach(t=>{t.addEventListener("click",()=>{document.querySelectorAll(".period-btn").forEach(t=>t.classList.remove("active")),t.classList.add("active"),t.dataset.period,setTimeout(()=>{initAllCharts()},100)})}),document.querySelectorAll(".tab").forEach(t=>{t.addEventListener("click",()=>{switchTab(t.dataset.tab)})}),document.getElementById("customer-search")?.addEventListener("input",t=>{const e=t.target.value.toLowerCase();document.querySelectorAll("#customers-table-body tr").forEach(t=>{const r=t.textContent.toLowerCase();t.style.display=r.includes(e)?"":"none"})});const chartColors={primary:"#6366F1",secondary:"#8B5CF6",tertiary:"#EC4899",success:"#10B981",danger:"#EF4444",warning:"#F59E0B",info:"#3B82F6",cyan:"#06B6D4",orange:"#F97316"},isDarkMode=()=>document.documentElement.classList.contains("dark"),getChartOptions=()=>({responsive:!0,maintainAspectRatio:!1,plugins:{legend:{labels:{color:isDarkMode()?"#F1F5F9":"#0F172A",font:{family:"Inter",size:12,weight:"600"}}},tooltip:{backgroundColor:isDarkMode()?"#13151C":"#FFFFFF",titleColor:isDarkMode()?"#F1F5F9":"#0F172A",bodyColor:isDarkMode()?"#94A3B8":"#64748B",borderColor:isDarkMode()?"#1E293B":"#E2E8F0",borderWidth:1,padding:12,boxPadding:6,usePointStyle:!0,font:{family:"Inter"}}},scales:{x:{grid:{color:isDarkMode()?"#1E293B":"#E2E8F0",drawBorder:!1},ticks:{color:isDarkMode()?"#94A3B8":"#64748B",font:{family:"Inter",size:11}}},y:{grid:{color:isDarkMode()?"#1E293B":"#E2E8F0",drawBorder:!1},ticks:{color:isDarkMode()?"#94A3B8":"#64748B",font:{family:"Inter",size:11}}}}});let chartInstances={};function destroyChart(t){chartInstances[t]&&(chartInstances[t].destroy(),delete chartInstances[t])}function initRevenueChart(){const t=document.getElementById("revenue-chart2");if(!t)return;destroyChart("revenue-chart2");const e=t.getContext("2d"),r=e.createLinearGradient(0,0,0,400);r.addColorStop(0,"rgba(99, 102, 241, 0.3)"),r.addColorStop(1,"rgba(99, 102, 241, 0)"),chartInstances["revenue-chart2"]=new Chart(e,{type:"line",data:{labels:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],datasets:[{label:"Revenue",data:[52e4,58e4,61e4,72e4,69e4,78e4,82e4,76e4,89e4,847392,92e4,98e4],borderColor:chartColors.primary,backgroundColor:r,borderWidth:3,tension:.4,fill:!0,pointRadius:6,pointHoverRadius:8,pointBackgroundColor:"#FFFFFF",pointBorderColor:chartColors.primary,pointBorderWidth:3}]},options:{...getChartOptions(),plugins:{...getChartOptions().plugins,legend:{display:!1}},scales:{...getChartOptions().scales,y:{...getChartOptions().scales.y,ticks:{...getChartOptions().scales.y.ticks,callback:function(t){return"$"+t/1e3+"K"}}}}}})}function initPaymentMethodsChart(){const t=document.getElementById("payment-methods-chart");if(!t)return;destroyChart("payment-methods-chart");const e=t.getContext("2d");chartInstances["payment-methods-chart"]=new Chart(e,{type:"doughnut",data:{labels:["Credit Card","Bank Transfer","Digital Wallet","Crypto"],datasets:[{data:[45.2,28.7,18.3,7.8],backgroundColor:[chartColors.primary,chartColors.secondary,chartColors.tertiary,chartColors.success],borderWidth:0,hoverOffset:10}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{...getChartOptions().plugins.tooltip,callbacks:{label:function(t){return t.label+": "+t.parsed+"%"}}}},cutout:"70%"}})}function initTransactionVolumeChart(){const t=document.getElementById("transaction-volume-chart");if(!t)return;destroyChart("transaction-volume-chart");const e=t.getContext("2d");chartInstances["transaction-volume-chart"]=new Chart(e,{type:"bar",data:{labels:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],datasets:[{label:"Transactions",data:[1842,2134,1987,2245,2089,1456,1294],backgroundColor:chartColors.secondary,borderRadius:8,borderSkipped:!1}]},options:{...getChartOptions(),plugins:{...getChartOptions().plugins,legend:{display:!1}}}})}function initCustomerGrowthChart(){const t=document.getElementById("customer-growth-chart");if(!t)return;destroyChart("customer-growth-chart");const e=t.getContext("2d");chartInstances["customer-growth-chart"]=new Chart(e,{type:"line",data:{labels:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],datasets:[{label:"New Customers",data:[420,485,510,587,624,695,748,812,876,892,945,1024],borderColor:chartColors.success,backgroundColor:"rgba(16, 185, 129, 0.1)",borderWidth:3,tension:.4,fill:!0,pointRadius:0},{label:"Returning",data:[1580,1692,1734,1823,1876,1945,2012,2089,2145,2234,2318,2456],borderColor:chartColors.info,backgroundColor:"rgba(59, 130, 246, 0.1)",borderWidth:3,tension:.4,fill:!0,pointRadius:0}]},options:{...getChartOptions(),interaction:{intersect:!1,mode:"index"}}})}function initCurrencyChart(){const t=document.getElementById("currency-chart");if(!t)return;destroyChart("currency-chart");const e=t.getContext("2d");chartInstances["currency-chart"]=new Chart(e,{type:"polarArea",data:{labels:["USD","EUR","GBP","JPY","AUD","CAD"],datasets:[{data:[42.3,28.7,15.4,8.2,3.8,1.6],backgroundColor:[chartColors.primary,chartColors.secondary,chartColors.tertiary,chartColors.success,chartColors.warning,chartColors.cyan],borderWidth:0}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"right",labels:{color:isDarkMode()?"#F1F5F9":"#0F172A",font:{family:"Inter",size:12},padding:15,usePointStyle:!0,pointStyle:"circle"}},tooltip:{...getChartOptions().plugins.tooltip,callbacks:{label:function(t){return t.label+": "+t.parsed.r+"%"}}}},scales:{r:{ticks:{display:!1},grid:{color:isDarkMode()?"#1E293B":"#E2E8F0"}}}}})}function initRevenueCategoryChart(){const t=document.getElementById("revenue-category-chart");if(!t)return;destroyChart("revenue-category-chart");const e=t.getContext("2d");chartInstances["revenue-category-chart"]=new Chart(e,{type:"bar",data:{labels:["Subscriptions","One-time","Add-ons","Services","Licenses","Support"],datasets:[{label:"Revenue",data:[324590,189432,142581,98470,67283,45036],backgroundColor:[chartColors.primary,chartColors.secondary,chartColors.tertiary,chartColors.success,chartColors.warning,chartColors.cyan],borderRadius:10,borderSkipped:!1}]},options:{...getChartOptions(),plugins:{...getChartOptions().plugins,legend:{display:!1}},scales:{...getChartOptions().scales,y:{...getChartOptions().scales.y,ticks:{...getChartOptions().scales.y.ticks,callback:function(t){return"$"+t/1e3+"K"}}}}}})}function initCustomerAcquisitionChart(){const t=document.getElementById("customer-acquisition-chart");if(!t)return;destroyChart("customer-acquisition-chart");const e=t.getContext("2d"),r=e.createLinearGradient(0,0,0,400);r.addColorStop(0,"rgba(16, 185, 129, 0.3)"),r.addColorStop(1,"rgba(16, 185, 129, 0)"),chartInstances["customer-acquisition-chart"]=new Chart(e,{type:"line",data:{labels:["Week 1","Week 2","Week 3","Week 4"],datasets:[{label:"New Customers",data:[324,412,389,467],borderColor:chartColors.success,backgroundColor:r,borderWidth:3,tension:.4,fill:!0,pointRadius:6,pointHoverRadius:8,pointBackgroundColor:"#FFFFFF",pointBorderColor:chartColors.success,pointBorderWidth:3}]},options:{...getChartOptions(),plugins:{...getChartOptions().plugins,legend:{display:!1}}}})}function initCustomerSegmentsChart(){const t=document.getElementById("customer-segments-chart");if(!t)return;destroyChart("customer-segments-chart");const e=t.getContext("2d");chartInstances["customer-segments-chart"]=new Chart(e,{type:"doughnut",data:{labels:["Platinum","Gold","Silver","Bronze"],datasets:[{data:[12.4,28.7,41.2,17.7],backgroundColor:[chartColors.secondary,chartColors.warning,chartColors.info,chartColors.orange],borderWidth:0,hoverOffset:10}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom",labels:{color:isDarkMode()?"#F1F5F9":"#0F172A",font:{family:"Inter",size:12},padding:15,usePointStyle:!0,pointStyle:"circle"}},tooltip:{...getChartOptions().plugins.tooltip,callbacks:{label:function(t){return t.label+": "+t.parsed+"%"}}}},cutout:"65%"}})}function initProcessingTimesChart(){const t=document.getElementById("processing-times-chart");if(!t)return;destroyChart("processing-times-chart");const e=t.getContext("2d");chartInstances["processing-times-chart"]=new Chart(e,{type:"line",data:{labels:["00:00","04:00","08:00","12:00","16:00","20:00","24:00"],datasets:[{label:"Processing Time (ms)",data:[220,235,245,268,251,240,225],borderColor:chartColors.info,backgroundColor:"rgba(59, 130, 246, 0.1)",borderWidth:3,tension:.4,fill:!0,pointRadius:5,pointBackgroundColor:"#FFFFFF",pointBorderColor:chartColors.info,pointBorderWidth:2}]},options:{...getChartOptions(),plugins:{...getChartOptions().plugins,legend:{display:!1}}}})}function initErrorRateChart(){const t=document.getElementById("error-rate-chart");if(!t)return;destroyChart("error-rate-chart");const e=t.getContext("2d");chartInstances["error-rate-chart"]=new Chart(e,{type:"bar",data:{labels:["Payment Failed","Timeout","Invalid Card","Insufficient Funds","Network Error","Other"],datasets:[{label:"Error Count",data:[147,89,124,201,67,42],backgroundColor:[chartColors.danger,chartColors.warning,chartColors.orange,chartColors.danger,chartColors.warning,chartColors.orange],borderRadius:8,borderSkipped:!1}]},options:{...getChartOptions(),plugins:{...getChartOptions().plugins,legend:{display:!1}},scales:{...getChartOptions().scales,x:{...getChartOptions().scales.x,ticks:{...getChartOptions().scales.x.ticks,maxRotation:45,minRotation:45}}}}})}function changeChartType(t,e){const r=chartInstances[t];r&&(r.config.type=e,r.update())}function initAllCharts(){Object.keys(chartInstances).forEach(t=>{destroyChart(t)}),initRevenueChart(),initPaymentMethodsChart(),initTransactionVolumeChart(),initCustomerGrowthChart(),initCurrencyChart(),initRevenueCategoryChart(),initCustomerAcquisitionChart(),initCustomerSegmentsChart(),initProcessingTimesChart(),initErrorRateChart()}const tabDropdownBtnAnalytics=document.getElementById("tab-dropdown-btn-analytics"),tabDropdownMobileAnalytics=document.getElementById("tab-dropdown-mobile-analytics");if(tabDropdownBtnAnalytics&&tabDropdownMobileAnalytics){tabDropdownBtnAnalytics.addEventListener("click",t=>{t.stopPropagation(),tabDropdownMobileAnalytics.classList.toggle("open")}),document.addEventListener("click",t=>{tabDropdownMobileAnalytics.contains(t.target)||tabDropdownMobileAnalytics.classList.remove("open")});const t=document.querySelectorAll(".tab-dropdown-item-analytics[data-tab]");t.forEach(e=>{e.addEventListener("click",r=>{r.stopPropagation();const o=e.dataset.tab;t.forEach(t=>t.classList.remove("active")),e.classList.add("active");const a=document.getElementById("tab-dropdown-text-analytics");a&&(a.textContent=e.textContent.trim()),tabDropdownMobileAnalytics.classList.remove("open"),switchTab(o),lucide.createIcons()})})}function updateMobileDropdownAnalytics(t){const e=document.getElementById("tab-dropdown-text-analytics");document.querySelectorAll(".tab-dropdown-item-analytics[data-tab]").forEach(r=>{r.dataset.tab===t?(r.classList.add("active"),e&&(e.textContent=r.textContent.trim())):r.classList.remove("active")})}document.addEventListener("DOMContentLoaded",()=>{setTimeout(()=>{initAllCharts()},100),lucide.createIcons()});